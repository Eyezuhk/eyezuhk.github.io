<div class="pomodoro-container">
  <button class="theme-toggle" onclick="pomodoroApp.toggleTheme()" title="Toggle theme">
      <i class="fas fa-moon"></i>
  </button>

  <div class="mode-buttons">
      <button onclick="pomodoroApp.setMode('pomodoro')" data-mode="pomodoro" class="pomodoro active"
          title="Start Pomodoro">
          <i class="fas fa-clock"></i> Pomodoro
      </button>
      <button onclick="pomodoroApp.setMode('shortBreak')" data-mode="shortBreak" class="shortBreak"
          title="Start short break">
          <i class="fas fa-coffee"></i> Short Break
      </button>
      <button onclick="pomodoroApp.setMode('longBreak')" data-mode="longBreak" class="longBreak"
          title="Start long break">
          <i class="fas fa-couch"></i> Long Break
      </button>
  </div>

  <div class="task-selection-container">
      <select id="taskSelect" aria-label="Select current task" onchange="pomodoroApp.selectTask(this.value)">
          <option value="">Select a task</option>
      </select>
  </div>

  <div class="timer-display" role="timer">
      <svg class="progress-ring" width="300" height="300">
          <circle class="progress-ring__circle-bg" stroke="currentColor" stroke-width="8" fill="transparent"
              r="140" cx="150" cy="150" />
          <circle class="progress-ring__circle" stroke="currentColor" stroke-width="8" fill="transparent"
              r="140" cx="150" cy="150" />
      </svg>
      <div class="time-display" id="timeDisplay" aria-live="polite">
          <span>25:00</span>
          <span></span>
          <span class="pomo-counter" id="totalPomodoros">0</span>
      </div>
  </div>

  <div class="controls">
      <button onclick="pomodoroApp.startTimer()" id="startBtn" class="pomodoro" title="Start/Pause timer">
          <i class="fas fa-play"></i> Start
      </button>
      <button onclick="pomodoroApp.resetTimer()" class="pomodoro" title="Reset timer">
          <i class="fas fa-redo"></i> Reset
      </button>
      <button onclick="pomodoroApp.toggleSettings()" class="pomodoro" title="Toggle settings panel">
          <i class="fas fa-cog"></i> Settings
      </button>
  </div>

  <div class="panel" id="taskListPanel">
      <h3>Tasks</h3>
      <div class="task-input-container">
          <input type="text" id="taskInput" placeholder="Add a new task" onkeydown="pomodoroApp.handleTaskInput(event)">
          <button class="pomodoro" onclick="pomodoroApp.addTask()">Add Task</button>
      </div>
      <div id="taskList"></div>
  </div>

  <div class="panel" id="statsPanel">
      <h3>Statistics</h3>
      <div class="stats-grid">
          <div class="stat-card">
              <div class="stat-value" id="totalPomodorosStat">0</div>
              <div>Total Pomodoros</div>
          </div>
          <div class="stat-card">
              <div class="stat-value" id="totalTime">0h 0m</div>
              <div>Focus Time</div>
          </div>
          <div class="stat-card">
              <div class="stat-value" id="dailyStreak">0</div>
              <div>Daily Streak</div>
          </div>
      </div>
  </div>

  <div class="panel" id="settingsPanel" style="display: none;">
      <div class="settings-group">
          <h3>YouTube Music</h3>
          <div class="setting-input-group">
              <label for="youtubeUrl">YouTube Video URL</label>
              <input type="text" id="youtubeUrl" placeholder="Enter YouTube video URL" value="https://www.youtube.com/watch?v=jfKfPfyJRdk" onchange="pomodoroApp.updateYouTubeVideo()">
              <div></div>
          </div>
      </div>
      <div class="settings-group">
          <h3>Timer Settings</h3>
          <div class="setting-input-group">
              <label for="pomodoroTime">Pomodoro (minutes)</label>
              <input type="number" id="pomodoroTime" value="25" min="0" max="600" onchange="pomodoroApp.updateTimeFromInput('pomodoroTime', this.value)">
              <div></div>
          </div>
          <div class="setting-input-group">
              <label for="shortBreakTime">Short Break (minutes)</label>
              <input type="number" id="shortBreakTime" value="5" min="0" max="300" onchange="pomodoroApp.updateTimeFromInput('shortBreakTime', this.value)">
              <div></div>
          </div>
          <div class="setting-input-group">
              <label for="longBreakTime">Long Break (minutes)</label>
              <input type="number" id="longBreakTime" value="15" min="0" max="600" onchange="pomodoroApp.updateTimeFromInput('longBreakTime', this.value)">
              <div></div>
          </div>
          <div class="setting-input-group">
              <label for="pomodorosBeforeLongBreak">Pomodoros Before Long Break</label>
              <input type="number" id="pomodorosBeforeLongBreak" value="4" min="1" max="10" onchange="pomodoroApp.updatePomodorosBeforeLongBreak(this.value)">
              <div></div>
          </div>
          <div class="setting-input-group" style="display: flex; align-items: center;">
              <label for="autoStartBreaks">Auto Start Breaks/Pomos</label>
              <input type="checkbox" id="autoStartBreaks" checked onchange="pomodoroApp.toggleAutoStartBreaks()">
              <div></div>
          </div>
          <div class="setting-input-group" style="display: flex; align-items: center;">
              <label for="autoStartBreaks">Keyboard Shortcuts</label>
              <button class="pomodoro" onclick="pomodoroApp.toggleKeyboardShortcuts()">Hide/Show</button>
              <div></div>
          </div>
      </div>

      <div class="settings-group">
          <h3>Notification Sounds</h3>
          <div class="setting-input-group">
              <label for="pomodoroSound">Pomodoro End Sound</label>
              <select id="pomodoroSound" onchange="pomodoroApp.updateNotificationSound('pomodoro', this.value)">
        <option value="chime">Chime</option>
                  <option value="bell">Bell</option>
                  <option value="ding">Ding</option>
              </select>
              <div></div>
          </div>
          <div class="setting-input-group">
              <label for="shortBreakSound">Short Break End Sound</label>
              <select id="shortBreakSound" onchange="pomodoroApp.updateNotificationSound('shortBreak', this.value)">
                  <option value="bell">Bell</option>
                  <option value="chime">Chime</option>
                  <option value="ding">Ding</option>
              </select>
              <div></div>
          </div>
          <div class="setting-input-group">
              <label for="longBreakSound">Long Break End Sound</label>
              <select id="longBreakSound" onchange="pomodoroApp.updateNotificationSound('longBreak', this.value)">
                  <option value="ding">Ding</option>
                  <option value="bell">Bell</option>
                  <option value="chime">Chime</option>
              </select>
              <div></div>
          </div>
          <div class="setting-input-group" style="display: flex; align-items: center;">
              <label for="muteSounds">Disable Sounds</label>
              <input type="checkbox" id="muteSounds" onchange="pomodoroApp.toggleMuteSounds()">
              <div></div>
          </div>
      </div>

      <div class="settings-group">
          <h3>Background</h3>
          <div class="setting-input-group">
              <label for="bgUrl">Background URL</label>
              <input type="text" id="bgUrl" placeholder="Enter image URL" onchange="pomodoroApp.updateBackground('url')">
              <button class="pomodoro" onclick="pomodoroApp.updateBackground('url')">Update URL</button>
          </div>
          <div class="setting-input-group">
              <label for="bgFile">Upload Image</label>
              <input type="file" id="bgFile" accept="image/*" onchange="pomodoroApp.updateBackground('file')">
              <button class="pomodoro" onclick="pomodoroApp.updateBackground('file')">Update File</button>
          </div>
          <div class="setting-input-group">
              <div></div>
              <button class="pomodoro" onclick="pomodoroApp.removeBackground()">Remove Background</button>
          </div>
      </div>

      <div class="settings-group">
          <h3>Reset Settings</h3>
          <div class="setting-input-group">
              <div></div>
              <button class="pomodoro" onclick="pomodoroApp.resetAllSettings()" title="Reset all settings">
                  <i class="fas fa-undo"></i> Reset All
              </button>
          </div>
      </div>
  </div>
   <div class="youtube-container">
          <div id="youtubePlayer"></div>
      </div>

</div>
<div class="notification" id="notification"></div>

<div class="keyboard-shortcuts" id="keyboardShortcuts" onclick="pomodoroApp.toggleKeyboardShortcuts()">
  <strong>Keyboard Shortcuts:</strong>
  <div>Space - Start/Pause</div>
  <div>R - Reset Timer</div>
  <div>1 - Pomodoro</div>
  <div>2 - Short Break</div>
  <div>3 - Long Break</div>
  <div>Click here to hide</div>
</div>