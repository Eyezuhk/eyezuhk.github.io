---
layout: default
---

<style>
    html, body {
        max-width: none; /* Remove o limite de largura 100%*/
        margin: 0; /* Remove margens padrão */
        padding: 0; /* Remove preenchimento padrão */
         height: 100%; /* Garante que html e body tenham 100% de altura */
    }
    .full-width {
        max-width: none !important; /* Ignora a largura máxima */
    }
    .editor-preview {
        display: flex;
        flex-direction: row;
       height: 100vh; /* Ajusta a altura para ocupar toda a viewport */
        width: 100%; /* Garante que a área de edição use 100% da largura */
    }
    
    #livePreview {
        width: 100%; /* Mantém a divisão em 100% para a visualização */
        padding: 0px; /* Removo o padding */
        overflow-y: auto;
        /*background-color: #828282; /* Fundo escuro para a visualização */
        /*color: #fff;  Texto branco para o modo escuro */
          height: 100%; /* Define 100% de altura */
    }
    iframe {
        width: 100%;
        height: 100%;
        border: none;
    }
    .container {
        max-width: none;
    }
    body {
        max-width: 100%;
    }

</style>
<div class="editor-preview">
    <div id="livePreview">
        <iframe id="liveFrame"></iframe>
    </div>
</div>

<script>
    const liveFrame = document.getElementById('liveFrame');

    // HTML da sua aplicação Pomodoro em Base64 (A SER ADICIONADO)
    const pomodoroAppBase64 = "PCFET0NUWVBFIGh0bWw+DQo8aHRtbCBsYW5nPSJlbiI+DQo8aGVhZD4NCiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+DQogICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAiPg0KICAgIDx0aXRsZT5GbiBQb21vZG9ybyBUaW1lcjwvdGl0bGU+DQogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9mb250LWF3ZXNvbWUvNi4wLjAvY3NzL2FsbC5taW4uY3NzIj4NCiAgICA8c3R5bGU+DQogICAgICAgIDpyb290IHsNCiAgICAgICAgICAgIC0tcHJpbWFyeS1jb2xvcjogI2ZmNmI2YjsNCiAgICAgICAgICAgIC0tc2hvcnRicmVhay1jb2xvcjogIzRkYWJmNzsNCiAgICAgICAgICAgIC0tbG9uZ2JyZWFrLWNvbG9yOiAjNDBjMDU3Ow0KICAgICAgICAgICAgLS1iZy1jb2xvcjogI2ZmZmZmZjsNCiAgICAgICAgICAgIC0tdGV4dC1jb2xvcjogIzMzMzMzMzsNCiAgICAgICAgICAgIC0tb3ZlcmxheS1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjgpOw0KICAgICAgICAgICAgLS1idXR0b24td2lkdGg6IDEyMHB4Ow0KICAgICAgICAgICAgLS1idXR0b24taGVpZ2h0OiA0MHB4Ow0KICAgICAgICAgICAgLS1mb250LWZhbWlseTogc3lzdGVtLXVpLCAtYXBwbGUtc3lzdGVtLCBzYW5zLXNlcmlmOw0KICAgICAgICAgICAgLS1ib3JkZXItcmFkaXVzOiAxMnB4Ow0KICAgICAgICAgICAgLS10cmFuc2l0aW9uLXNwZWVkOiAwLjNzOw0KICAgICAgICB9DQoNCiAgICAgICAgLmRhcmstbW9kZSB7DQogICAgICAgICAgICAtLWJnLWNvbG9yOiAjMWExYTFhOw0KICAgICAgICAgICAgLS10ZXh0LWNvbG9yOiAjZmZmZmZmOw0KICAgICAgICAgICAgLS1vdmVybGF5LWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNik7DQogICAgICAgIH0NCg0KICAgICAgICAqIHsNCiAgICAgICAgICAgIG1hcmdpbjogMDsNCiAgICAgICAgICAgIHBhZGRpbmc6IDA7DQogICAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94Ow0KICAgICAgICB9DQoNCiAgICAgICAgYm9keSB7DQogICAgICAgICAgICBmb250LWZhbWlseTogdmFyKC0tZm9udC1mYW1pbHkpOw0KICAgICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtY29sb3IpOw0KICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIHZhcigtLXRyYW5zaXRpb24tc3BlZWQpIGVhc2U7DQogICAgICAgICAgICBtaW4taGVpZ2h0OiAxMDB2aDsNCiAgICAgICAgICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7DQogICAgICAgICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7DQogICAgICAgICAgICBiYWNrZ3JvdW5kLWF0dGFjaG1lbnQ6IGZpeGVkOw0KICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDEuNTsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJnLWNvbG9yKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5jb250YWluZXIgew0KICAgICAgICAgICAgbWF4LXdpZHRoOiA5MDBweDsNCiAgICAgICAgICAgIG1hcmdpbjogMCBhdXRvOw0KICAgICAgICAgICAgcGFkZGluZzogMnJlbTsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLW92ZXJsYXktY29sb3IpOw0KICAgICAgICAgICAgbWluLWhlaWdodDogMTAwdmg7DQogICAgICAgICAgICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMTBweCk7DQogICAgICAgIH0NCg0KICAgICAgICAudGltZXItY29udGFpbmVyIHsNCiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICAgICAgICAgIHBhZGRpbmc6IDJyZW07DQogICAgICAgICAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1ib3JkZXItcmFkaXVzKTsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4wNSk7DQogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAycmVtOw0KICAgICAgICAgICAgYm94LXNoYWRvdzogMCA0cHggNnB4IC0xcHggcmdiYSgwLCAwLCAwLCAwLjEpOw0KICAgICAgICB9DQoNCiAgICAgICAgLnRpbWVyLWRpc3BsYXkgew0KICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOw0KICAgICAgICAgICAgd2lkdGg6IDMwMHB4Ow0KICAgICAgICAgICAgaGVpZ2h0OiAzMDBweDsNCiAgICAgICAgICAgIG1hcmdpbjogMnJlbSBhdXRvOw0KICAgICAgICB9DQoNCiAgICAgICAgLnByb2dyZXNzLXJpbmcgew0KICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgICAgICAgICAgdG9wOiAwOw0KICAgICAgICAgICAgbGVmdDogMDsNCiAgICAgICAgICAgIHRyYW5zZm9ybTogcm90YXRlKC05MGRlZyk7DQogICAgICAgIH0NCg0KICAgICAgICAucHJvZ3Jlc3MtcmluZ19fY2lyY2xlIHsNCiAgICAgICAgICAgIHRyYW5zaXRpb246IHN0cm9rZS1kYXNob2Zmc2V0IHZhcigtLXRyYW5zaXRpb24tc3BlZWQpOw0KICAgICAgICAgICAgc3Ryb2tlLWxpbmVjYXA6IHJvdW5kOw0KICAgICAgICB9DQoNCiAgICAgICAgLnByb2dyZXNzLXJpbmdfX2NpcmNsZS1iZyB7DQogICAgICAgICAgICBvcGFjaXR5OiAwLjI7DQogICAgICAgIH0NCg0KICAgICAgICAudGltZSB7DQogICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgICAgICAgICB0b3A6IDUwJTsNCiAgICAgICAgICAgIGxlZnQ6IDUwJTsNCiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpOw0KICAgICAgICAgICAgZm9udC1zaXplOiA0cmVtOw0KICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7DQogICAgICAgICAgICBmb250LXZhcmlhbnQtbnVtZXJpYzogdGFidWxhci1udW1zOw0KICAgICAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47DQogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAgICB9DQoNCiAgICAgICAgLnBvbW8tY291bnRlciB7DQogICAgICAgICAgICBmb250LXNpemU6IDEuMXJlbTsNCiAgICAgICAgICAgIG1hcmdpbi10b3A6IDAuNXJlbTsNCiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5LWNvbG9yKTsNCg0KICAgICAgICB9DQoNCiAgICAgICAgLm1vZGUtYnV0dG9ucyB7DQogICAgICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7DQogICAgICAgICAgICBnYXA6IDFyZW07DQogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxLjVyZW07DQogICAgICAgIH0NCg0KICAgICAgICBidXR0b24gew0KICAgICAgICAgICAgd2lkdGg6IHZhcigtLWJ1dHRvbi13aWR0aCk7DQogICAgICAgICAgICBoZWlnaHQ6IHZhcigtLWJ1dHRvbi1oZWlnaHQpOw0KICAgICAgICAgICAgYm9yZGVyOiBub25lOw0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogdmFyKC0tYm9yZGVyLXJhZGl1cyk7DQogICAgICAgICAgICBjb2xvcjogd2hpdGU7DQogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7DQogICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgdmFyKC0tdHJhbnNpdGlvbi1zcGVlZCk7DQogICAgICAgICAgICBmb250LXNpemU6IDAuODc1cmVtOw0KICAgICAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCiAgICAgICAgICAgIGdhcDogMC41cmVtOw0KICAgICAgICAgICAgdGV4dC10cmFuc2Zvcm06IGNhcGl0YWxpemU7DQogICAgICAgICAgICBmb250LXdlaWdodDogNTAwOw0KICAgICAgICAgICAgcGFkZGluZzogMCAxcmVtOw0KICAgICAgICB9DQoNCiAgICAgICAgYnV0dG9uLnBvbW9kb3JvIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpOw0KICAgICAgICB9DQoNCiAgICAgICAgYnV0dG9uLnNob3J0QnJlYWsgew0KICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tc2hvcnRicmVhay1jb2xvcik7DQogICAgICAgIH0NCg0KICAgICAgICBidXR0b24ubG9uZ0JyZWFrIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWxvbmdicmVhay1jb2xvcik7DQogICAgICAgIH0NCg0KICAgICAgICBidXR0b246aG92ZXIgew0KICAgICAgICAgICAgb3BhY2l0eTogMC45Ow0KICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0xcHgpOw0KICAgICAgICB9DQoNCiAgICAgICAgYnV0dG9uOmFjdGl2ZSB7DQogICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7DQogICAgICAgIH0NCg0KICAgICAgICAuY29udHJvbHMgew0KICAgICAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOw0KICAgICAgICAgICAgZ2FwOiAxcmVtOw0KICAgICAgICAgICAgbWFyZ2luOiAycmVtIDA7DQogICAgICAgICAgICBmbGV4LXdyYXA6IHdyYXA7DQogICAgICAgIH0NCg0KICAgICAgICAucGFuZWwgew0KICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjA1KTsNCiAgICAgICAgICAgIHBhZGRpbmc6IDEuNXJlbTsNCiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLWJvcmRlci1yYWRpdXMpOw0KICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMnJlbTsNCiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgNHB4IDZweCAtMXB4IHJnYmEoMCwgMCwgMCwgMC4xKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5zdGF0cy1ncmlkIHsNCiAgICAgICAgICAgIGRpc3BsYXk6IGdyaWQ7DQogICAgICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDIwMHB4LCAxZnIpKTsNCiAgICAgICAgICAgIGdhcDogMS41cmVtOw0KICAgICAgICAgICAgbWFyZ2luLXRvcDogMXJlbTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5zdGF0LWNhcmQgew0KICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjA1KTsNCiAgICAgICAgICAgIHBhZGRpbmc6IDEuNXJlbTsNCiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLWJvcmRlci1yYWRpdXMpOw0KICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgICAgICAgICAgYm94LXNoYWRvdzogMCAycHggNHB4IHJnYmEoMCwgMCwgMCwgMC4wNSk7DQogICAgICAgIH0NCg0KICAgICAgICAuc3RhdC12YWx1ZSB7DQogICAgICAgICAgICBmb250LXNpemU6IDJyZW07DQogICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDsNCiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5LWNvbG9yKTsNCiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDAuNXJlbTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5zZXR0aW5ncy1ncm91cCB7DQogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAycmVtOw0KICAgICAgICB9DQoNCiAgICAgICAgLnNldHRpbmdzLWdyb3VwIGgzIHsNCiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDFyZW07DQogICAgICAgICAgICBjb2xvcjogdmFyKC0tcHJpbWFyeS1jb2xvcik7DQogICAgICAgICAgICBmb250LXNpemU6IDEuMjVyZW07DQogICAgICAgIH0NCg0KICAgICAgICAuc2V0dGluZy1pbnB1dC1ncm91cCB7DQogICAgICAgICAgICBkaXNwbGF5OiBncmlkOw0KICAgICAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiBhdXRvIDFmciBhdXRvOw0KICAgICAgICAgICAgZ2FwOiAxcmVtOw0KICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMXJlbTsNCiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICAgIH0NCgkJDQoJCS5zZXR0aW5nLWlucHV0LWdyb3VwIHNlbGVjdDpmb2N1cyB7DQoJCQlvdXRsaW5lOiBub25lOw0KCQkJYm9yZGVyLWNvbG9yOiB2YXIoLS1wcmltYXJ5LWNvbG9yKTsNCgkJfQ0KDQoJCS5zZXR0aW5nLWlucHV0LWdyb3VwIHNlbGVjdCBvcHRpb24gew0KCQliYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1iZy1jb2xvcik7DQoJCWNvbG9yOiB2YXIoLS10ZXh0LWNvbG9yKTsNCgkJfQ0KDQogICAgICAgIC5zZXR0aW5nLWlucHV0LWdyb3VwIGxhYmVsIHsNCiAgICAgICAgICAgIGdyaWQtY29sdW1uOiAxOw0KICAgICAgICAgICAgdGV4dC1hbGlnbjogbGVmdDsNCiAgICAgICAgfQ0KDQogICAgICAgIC5zZXR0aW5nLWlucHV0LWdyb3VwPio6bnRoLWNoaWxkKDIpIHsNCiAgICAgICAgICAgIGdyaWQtY29sdW1uOiAyOw0KICAgICAgICB9DQoNCiAgICAgICAgLnNldHRpbmctaW5wdXQtZ3JvdXA+KjpudGgtY2hpbGQoMykgew0KICAgICAgICAgICAgZ3JpZC1jb2x1bW46IDM7DQogICAgICAgICAgICBqdXN0aWZ5LXNlbGY6IHN0YXJ0Ow0KICAgICAgICB9DQoNCiAgICAgICAgaW5wdXRbdHlwZT0ibnVtYmVyIl0sDQogICAgICAgIGlucHV0W3R5cGU9InRleHQiXSwNCiAgICAgICAgc2VsZWN0IHsNCiAgICAgICAgICAgIHBhZGRpbmc6IDAuNXJlbSAxcmVtOw0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogdmFyKC0tYm9yZGVyLXJhZGl1cyk7DQogICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDE1NiwgMTYzLCAxNzUsIDAuMik7DQogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMDUpOw0KICAgICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtY29sb3IpOw0KICAgICAgICAgICAgd2lkdGg6IDEwMCU7DQogICAgICAgICAgICB0cmFuc2l0aW9uOiBib3JkZXItY29sb3IgdmFyKC0tdHJhbnNpdGlvbi1zcGVlZCk7DQogICAgICAgIH0NCg0KICAgICAgICBpbnB1dFt0eXBlPSJudW1iZXIiXTpmb2N1cywNCiAgICAgICAgaW5wdXRbdHlwZT0idGV4dCJdOmZvY3VzLA0KICAgICAgICBzZWxlY3Q6Zm9jdXMgew0KICAgICAgICAgICAgb3V0bGluZTogbm9uZTsNCiAgICAgICAgICAgIGJvcmRlci1jb2xvcjogdmFyKC0tcHJpbWFyeS1jb2xvcik7DQogICAgICAgIH0NCg0KICAgICAgICAudGFzay1pbnB1dC1jb250YWluZXIgew0KICAgICAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAgICAgIGdhcDogMXJlbTsNCiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDEuNXJlbTsNCiAgICAgICAgfQ0KDQogICAgICAgIC50YXNrLWl0ZW0gew0KICAgICAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsNCiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICAgICAgICBwYWRkaW5nOiAxcmVtOw0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogdmFyKC0tYm9yZGVyLXJhZGl1cyk7DQogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMDUpOw0KICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMC41cmVtOw0KICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIHZhcigtLXRyYW5zaXRpb24tc3BlZWQpOw0KICAgICAgICB9DQoNCiAgICAgICAgLnRhc2staXRlbTpob3ZlciB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSk7DQogICAgICAgIH0NCg0KICAgICAgICAudGFzay1pdGVtLmNvbXBsZXRlZCB7DQogICAgICAgICAgICBvcGFjaXR5OiAwLjc7DQogICAgICAgIH0NCg0KICAgICAgICAudGFzay1pdGVtLmNvbXBsZXRlZCBzcGFuIHsNCiAgICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogbGluZS10aHJvdWdoOw0KICAgICAgICB9DQoNCiAgICAgICAgLm5vdGlmaWNhdGlvbiB7DQogICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7DQogICAgICAgICAgICB0b3A6IDIwcHg7DQogICAgICAgICAgICByaWdodDogMjBweDsNCiAgICAgICAgICAgIHBhZGRpbmc6IDFyZW0gMS41cmVtOw0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogdmFyKC0tYm9yZGVyLXJhZGl1cyk7DQogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1wcmltYXJ5LWNvbG9yKTsNCiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTsNCiAgICAgICAgICAgIG9wYWNpdHk6IDA7DQogICAgICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IHZhcigtLXRyYW5zaXRpb24tc3BlZWQpOw0KICAgICAgICAgICAgei1pbmRleDogMTAwMDsNCiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgNHB4IDZweCAtMXB4IHJnYmEoMCwgMCwgMCwgMC4xKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5ub3RpZmljYXRpb24uc2hvdyB7DQogICAgICAgICAgICBvcGFjaXR5OiAxOw0KICAgICAgICB9DQoNCiAgICAgICAgLmtleWJvYXJkLXNob3J0Y3V0cyB7DQogICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7DQogICAgICAgICAgICBib3R0b206IDIwcHg7DQogICAgICAgICAgICByaWdodDogMjBweDsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLW92ZXJsYXktY29sb3IpOw0KICAgICAgICAgICAgcGFkZGluZzogMXJlbSAxLjVyZW07DQogICAgICAgICAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1ib3JkZXItcmFkaXVzKTsNCiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC44NzVyZW07DQogICAgICAgICAgICB6LWluZGV4OiAxMDAwOw0KICAgICAgICAgICAgYm94LXNoYWRvdzogMCA0cHggNnB4IC0xcHggcmdiYSgwLCAwLCAwLCAwLjEpOw0KICAgICAgICB9DQoNCiAgICAgICAgLnRoZW1lLXRvZ2dsZSB7DQogICAgICAgICAgIGRpc3BsYXk6IG5vbmU7DQogICAgICAgIH0NCg0KICAgICAgICBAbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHsNCiAgICAgICAgICAgIC5jb250YWluZXIgew0KICAgICAgICAgICAgICAgIHBhZGRpbmc6IDFyZW07DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC50aW1lci1kaXNwbGF5IHsNCiAgICAgICAgICAgICAgICB3aWR0aDogMzAwcHg7DQogICAgICAgICAgICAgICAgaGVpZ2h0OiAzMDBweDsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLnRpbWUgew0KICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogM3JlbTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLmtleWJvYXJkLXNob3J0Y3V0cyB7DQogICAgICAgICAgICAgICAgZGlzcGxheTogbm9uZTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLnN0YXRzLWdyaWQgew0KICAgICAgICAgICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAuc2V0dGluZy1pbnB1dC1ncm91cCB7DQogICAgICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsNCiAgICAgICAgICAgICAgICBhbGlnbi1pdGVtczogc3RyZXRjaDsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaW5wdXRbdHlwZT0ibnVtYmVyIl0sDQogICAgICAgICAgICBpbnB1dFt0eXBlPSJ0ZXh0Il0sDQogICAgICAgICAgICBzZWxlY3Qgew0KICAgICAgICAgICAgICAgIG1heC13aWR0aDogMTAwJTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIC50YXNrLWFjdGlvbnMgew0KICAgICAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAgICAgIGdhcDogMC41cmVtOw0KICAgICAgICB9DQoNCiAgICAgICAgLnRhc2stYWN0aW9ucyBidXR0b24gew0KICAgICAgICAgICAgd2lkdGg6IGF1dG87DQogICAgICAgICAgICBoZWlnaHQ6IGF1dG87DQogICAgICAgICAgICBwYWRkaW5nOiAwLjVyZW07DQogICAgICAgIH0NCg0KICAgICAgICAucG9tb2Rvcm8tY291bnQgew0KICAgICAgICAgICAgZm9udC1zaXplOiAwLjg3NXJlbTsNCiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5LWNvbG9yKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC50YXNrLXNlbGVjdGlvbi1jb250YWluZXIgew0KICAgICAgICAgICAgbWFyZ2luOiAxLjVyZW0gMDsNCiAgICAgICAgfQ0KDQogICAgICAgIHNlbGVjdCN0YXNrU2VsZWN0IHsNCiAgICAgICAgICAgIG1hcmdpbjogMCBhdXRvOw0KICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7DQogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1iZy1jb2xvcik7DQogICAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1jb2xvcik7DQogICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDE1NiwgMTYzLCAxNzUsIDAuMik7DQogICAgICAgICAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1ib3JkZXItcmFkaXVzKTsNCiAgICAgICAgICAgIHBhZGRpbmc6IDAuNXJlbTsNCiAgICAgICAgfQ0KDQogICAgICAgIHNlbGVjdCN0YXNrU2VsZWN0IG9wdGlvbiB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1iZy1jb2xvcik7DQogICAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1jb2xvcik7DQogICAgICAgIH0NCg0KICAgICAgICAueW91dHViZS1jb250YWluZXIgew0KICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOw0KICAgICAgICAgICAgd2lkdGg6IDEwMCU7DQogICAgICAgICAgICBwYWRkaW5nLWJvdHRvbTogNTYuMjUlOw0KICAgICAgICAgICAgbWFyZ2luLXRvcDogMnJlbTsNCiAgICAgICAgfQ0KDQogICAgICAgIC55b3V0dWJlLWNvbnRhaW5lciBpZnJhbWUgew0KICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgICAgICAgICAgdG9wOiAwOw0KICAgICAgICAgICAgbGVmdDogMDsNCiAgICAgICAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgICAgICAgaGVpZ2h0OiAxMDAlOw0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDsNCiAgICAgICAgfQ0KDQogICAgICAgIC5oaWRlIHsNCiAgICAgICAgICAgIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsNCiAgICAgICAgfQ0KDQogICAgICAgIC5hY3RpdmUgew0KICAgICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxLjA1KTsNCiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgNHB4IDEycHggcmdiYSgwLCAwLCAwLCAwLjEpOw0KICAgICAgICB9DQogICAgPC9zdHlsZT4NCjwvaGVhZD4NCg0KPGJvZHk+DQogICANCiAgICA8ZGl2IGNsYXNzPSJjb250YWluZXIiPg0KICAgICAgICA8ZGl2IGNsYXNzPSJ0aW1lci1jb250YWluZXIiPg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kZS1idXR0b25zIj4NCiAgICAgICAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9InNldE1vZGUoJ3BvbW9kb3JvJykiIGRhdGEtbW9kZT0icG9tb2Rvcm8iIGNsYXNzPSJwb21vZG9ybyBhY3RpdmUiDQogICAgICAgICAgICAgICAgICAgIHRpdGxlPSJTdGFydCBQb21vZG9ybyI+DQogICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtY2xvY2siPjwvaT4gUG9tb2Rvcm8NCiAgICAgICAgICAgICAgICA8L2J1dHRvbj4NCiAgICAgICAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9InNldE1vZGUoJ3Nob3J0QnJlYWsnKSIgZGF0YS1tb2RlPSJzaG9ydEJyZWFrIiBjbGFzcz0ic2hvcnRCcmVhayINCiAgICAgICAgICAgICAgICAgICAgdGl0bGU9IlN0YXJ0IHNob3J0IGJyZWFrIj4NCiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1jb2ZmZWUiPjwvaT4gU2hvcnQgQnJlYWsNCiAgICAgICAgICAgICAgICA8L2J1dHRvbj4NCiAgICAgICAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9InNldE1vZGUoJ2xvbmdCcmVhaycpIiBkYXRhLW1vZGU9ImxvbmdCcmVhayIgY2xhc3M9ImxvbmdCcmVhayINCiAgICAgICAgICAgICAgICAgICAgdGl0bGU9IlN0YXJ0IGxvbmcgYnJlYWsiPg0KICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLWNvdWNoIj48L2k+IExvbmcgQnJlYWsNCiAgICAgICAgICAgICAgICA8L2J1dHRvbj4NCiAgICAgICAgICAgIDwvZGl2Pg0KDQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0YXNrLXNlbGVjdGlvbi1jb250YWluZXIiPg0KICAgICAgICAgICAgICAgIDxzZWxlY3QgaWQ9InRhc2tTZWxlY3QiIGFyaWEtbGFiZWw9IlNlbGVjdCBjdXJyZW50IHRhc2siPg0KICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSIiPlNlbGVjdCBhIHRhc2s8L29wdGlvbj4NCiAgICAgICAgICAgICAgICA8L3NlbGVjdD4NCiAgICAgICAgICAgIDwvZGl2Pg0KDQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0aW1lci1kaXNwbGF5IiByb2xlPSJ0aW1lciI+DQogICAgICAgICAgICAgICAgPHN2ZyBjbGFzcz0icHJvZ3Jlc3MtcmluZyIgd2lkdGg9IjMwMCIgaGVpZ2h0PSIzMDAiPg0KICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGNsYXNzPSJwcm9ncmVzcy1yaW5nX19jaXJjbGUtYmciIHN0cm9rZT0iY3VycmVudENvbG9yIiBzdHJva2Utd2lkdGg9IjgiIGZpbGw9InRyYW5zcGFyZW50Ig0KICAgICAgICAgICAgICAgICAgICAgICAgcj0iMTQwIiBjeD0iMTUwIiBjeT0iMTUwIiAvPg0KICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGNsYXNzPSJwcm9ncmVzcy1yaW5nX19jaXJjbGUiIHN0cm9rZT0iY3VycmVudENvbG9yIiBzdHJva2Utd2lkdGg9IjgiIGZpbGw9InRyYW5zcGFyZW50Ig0KICAgICAgICAgICAgICAgICAgICAgICAgcj0iMTQwIiBjeD0iMTUwIiBjeT0iMTUwIiAvPg0KICAgICAgICAgICAgICAgIDwvc3ZnPg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InRpbWUiIGlkPSJ0aW1lIiBhcmlhLWxpdmU9InBvbGl0ZSI+DQogICAgICAgICAgICAgICAgICAgIDxzcGFuPjI1OjAwPC9zcGFuPg0KICAgICAgICAgICAgICAgICAgICA8c3Bhbj48L3NwYW4+DQogICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJwb21vLWNvdW50ZXIiIGlkPSJ0b3RhbFBvbW9kb3JvcyI+MDwvc3Bhbj4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDwvZGl2Pg0KDQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb250cm9scyI+DQogICAgICAgICAgICAgICAgPGJ1dHRvbiBvbmNsaWNrPSJzdGFydFRpbWVyKCkiIGlkPSJzdGFydEJ0biIgY2xhc3M9InBvbW9kb3JvIiB0aXRsZT0iU3RhcnQvUGF1c2UgdGltZXIiPg0KICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXBsYXkiPjwvaT4gU3RhcnQNCiAgICAgICAgICAgICAgICA8L2J1dHRvbj4NCiAgICAgICAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9InJlc2V0VGltZXIoKSIgY2xhc3M9InBvbW9kb3JvIiB0aXRsZT0iUmVzZXQgdGltZXIiPg0KICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXJlZG8iPjwvaT4gUmVzZXQNCiAgICAgICAgICAgICAgICA8L2J1dHRvbj4NCiAgICAgICAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9InRvZ2dsZVNldHRpbmdzKCkiIGNsYXNzPSJwb21vZG9ybyIgdGl0bGU9IlRvZ2dsZSBzZXR0aW5ncyBwYW5lbCI+DQogICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtY29nIj48L2k+IFNldHRpbmdzDQogICAgICAgICAgICAgICAgPC9idXR0b24+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgPC9kaXY+DQoNCiAgICAgICAgPGRpdiBjbGFzcz0icGFuZWwiIGlkPSJ0YXNrTGlzdFBhbmVsIj4NCiAgICAgICAgICAgIDxoMz5UYXNrczwvaDM+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0YXNrLWlucHV0LWNvbnRhaW5lciI+DQogICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJ0YXNrSW5wdXQiIHBsYWNlaG9sZGVyPSJBZGQgYSBuZXcgdGFzayIgb25rZXlkb3duPSJoYW5kbGVUYXNrSW5wdXQoZXZlbnQpIj4NCiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJwb21vZG9ybyIgb25jbGljaz0iYWRkVGFzaygpIj5BZGQgVGFzazwvYnV0dG9uPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8ZGl2IGlkPSJ0YXNrTGlzdCI+PC9kaXY+DQogICAgICAgIDwvZGl2Pg0KDQogICAgICAgIDxkaXYgY2xhc3M9InBhbmVsIiBpZD0ic3RhdHNQYW5lbCI+DQogICAgICAgICAgICA8aDM+U3RhdGlzdGljczwvaDM+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0cy1ncmlkIj4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0LWNhcmQiPg0KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0LXZhbHVlIiBpZD0idG90YWxQb21vZG9yb3NTdGF0Ij4wPC9kaXY+DQogICAgICAgICAgICAgICAgICAgIDxkaXY+VG90YWwgUG9tb2Rvcm9zPC9kaXY+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RhdC1jYXJkIj4NCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RhdC12YWx1ZSIgaWQ9InRvdGFsVGltZSI+MGggMG08L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgPGRpdj5Gb2N1cyBUaW1lPC9kaXY+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RhdC1jYXJkIj4NCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RhdC12YWx1ZSIgaWQ9ImRhaWx5U3RyZWFrIj4wPC9kaXY+DQogICAgICAgICAgICAgICAgICAgIDxkaXY+RGFpbHkgU3RyZWFrPC9kaXY+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgPC9kaXY+DQoNCiAgICAgICAgPGRpdiBjbGFzcz0icGFuZWwiIGlkPSJzZXR0aW5nc1BhbmVsIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2V0dGluZ3MtZ3JvdXAiPg0KICAgICAgICAgICAgICAgIDxoMz5Zb3VUdWJlIE11c2ljPC9oMz4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzZXR0aW5nLWlucHV0LWdyb3VwIj4NCiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0ieW91dHViZVVybCI+WW91VHViZSBWaWRlbyBVUkw8L2xhYmVsPg0KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9InlvdXR1YmVVcmwiIHBsYWNlaG9sZGVyPSJFbnRlciBZb3VUdWJlIHZpZGVvIFVSTCINCiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPSJodHRwczovL3d3dy55b3V0dWJlLmNvbS93YXRjaD92PWpmS2ZQZnlKUmRrIj4NCiAgICAgICAgICAgICAgICAgICAgPGRpdj48L2Rpdj4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2V0dGluZ3MtZ3JvdXAiPg0KICAgICAgICAgICAgICAgIDxoMz5UaW1lciBTZXR0aW5nczwvaDM+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2V0dGluZy1pbnB1dC1ncm91cCI+DQogICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9InBvbW9kb3JvVGltZSI+UG9tb2Rvcm8gKG1pbnV0ZXMpPC9sYWJlbD4NCiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9Im51bWJlciIgaWQ9InBvbW9kb3JvVGltZSIgdmFsdWU9IjI1IiBtaW49IjAiIG1heD0iNjAwIj4NCiAgICAgICAgICAgICAgICAgICAgPGRpdj48L2Rpdj4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzZXR0aW5nLWlucHV0LWdyb3VwIj4NCiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0ic2hvcnRCcmVha1RpbWUiPlNob3J0IEJyZWFrIChtaW51dGVzKTwvbGFiZWw+DQogICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJudW1iZXIiIGlkPSJzaG9ydEJyZWFrVGltZSIgdmFsdWU9IjUiIG1pbj0iMCIgbWF4PSIzMDAiPg0KICAgICAgICAgICAgICAgICAgICA8ZGl2PjwvZGl2Pg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InNldHRpbmctaW5wdXQtZ3JvdXAiPg0KICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJsb25nQnJlYWtUaW1lIj5Mb25nIEJyZWFrIChtaW51dGVzKTwvbGFiZWw+DQogICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJudW1iZXIiIGlkPSJsb25nQnJlYWtUaW1lIiB2YWx1ZT0iMTUiIG1pbj0iMCIgbWF4PSI2MDAiPg0KICAgICAgICAgICAgICAgICAgICA8ZGl2PjwvZGl2Pg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InNldHRpbmctaW5wdXQtZ3JvdXAiPg0KICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJwb21vZG9yb3NCZWZvcmVMb25nQnJlYWsiPlBvbW9kb3JvcyBCZWZvcmUgTG9uZyBCcmVhazwvbGFiZWw+DQogICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJudW1iZXIiIGlkPSJwb21vZG9yb3NCZWZvcmVMb25nQnJlYWsiIHZhbHVlPSI0IiBtaW49IjEiIG1heD0iMTAiPg0KICAgICAgICAgICAgICAgICAgICA8ZGl2PjwvZGl2Pg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InNldHRpbmctaW5wdXQtZ3JvdXAiIHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyI+DQogICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9ImF1dG9TdGFydEJyZWFrcyI+QXV0byBTdGFydCBCcmVha3MvUG9tb3M8L2xhYmVsPg0KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJhdXRvU3RhcnRCcmVha3MiIGNoZWNrZWQ+DQogICAgICAgICAgICAgICAgICAgIDxkaXY+PC9kaXY+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2V0dGluZy1pbnB1dC1ncm91cCIgc3R5bGU9ImRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7Ij4NCiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0iYXV0b1N0YXJ0QnJlYWtzIj5LZXlib2FyZCBTaG9ydGN1dHM8L2xhYmVsPg0KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJwb21vZG9ybyIgb25jbGljaz0idG9nZ2xlS2V5Ym9hcmRTaG9ydGN1dHMoKSI+SGlkZS9TaG93PC9idXR0b24+DQogICAgICAgICAgICAgICAgICAgIDxkaXY+PC9kaXY+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8L2Rpdj4NCg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2V0dGluZ3MtZ3JvdXAiPg0KICAgICAgICAgICAgICAgIDxoMz5Ob3RpZmljYXRpb24gU291bmRzPC9oMz4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzZXR0aW5nLWlucHV0LWdyb3VwIj4NCiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0icG9tb2Rvcm9Tb3VuZCI+UG9tb2Rvcm8gRW5kIFNvdW5kPC9sYWJlbD4NCiAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD0icG9tb2Rvcm9Tb3VuZCI+DQoJCQkJCQk8b3B0aW9uIHZhbHVlPSJjaGltZSI+Q2hpbWU8L29wdGlvbj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9ImJlbGwiPkJlbGw8L29wdGlvbj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9ImRpbmciPkRpbmc8L29wdGlvbj4NCiAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+DQogICAgICAgICAgICAgICAgICAgIDxkaXY+PC9kaXY+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2V0dGluZy1pbnB1dC1ncm91cCI+DQogICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9InNob3J0QnJlYWtTb3VuZCI+U2hvcnQgQnJlYWsgRW5kIFNvdW5kPC9sYWJlbD4NCiAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD0ic2hvcnRCcmVha1NvdW5kIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9ImJlbGwiPkJlbGw8L29wdGlvbj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9ImNoaW1lIj5DaGltZTwvb3B0aW9uPg0KICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iZGluZyI+RGluZzwvb3B0aW9uPg0KICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD4NCiAgICAgICAgICAgICAgICAgICAgPGRpdj48L2Rpdj4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzZXR0aW5nLWlucHV0LWdyb3VwIj4NCiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0ibG9uZ0JyZWFrU291bmQiPkxvbmcgQnJlYWsgRW5kIFNvdW5kPC9sYWJlbD4NCiAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD0ibG9uZ0JyZWFrU291bmQiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iZGluZyI+RGluZzwvb3B0aW9uPg0KICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iYmVsbCI+QmVsbDwvb3B0aW9uPg0KICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iY2hpbWUiPkNoaW1lPC9vcHRpb24+DQogICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0Pg0KICAgICAgICAgICAgICAgICAgICA8ZGl2PjwvZGl2Pg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InNldHRpbmctaW5wdXQtZ3JvdXAiIHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyI+DQogICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9Im11dGVTb3VuZHMiPkRpc2FibGUgU291bmRzPC9sYWJlbD4NCiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0ibXV0ZVNvdW5kcyI+DQogICAgICAgICAgICAgICAgICAgIDxkaXY+PC9kaXY+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8L2Rpdj4NCg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2V0dGluZ3MtZ3JvdXAiPg0KICAgICAgICAgICAgICAgIDxoMz5CYWNrZ3JvdW5kPC9oMz4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzZXR0aW5nLWlucHV0LWdyb3VwIj4NCiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0iYmdVcmwiPkJhY2tncm91bmQgVVJMPC9sYWJlbD4NCiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJiZ1VybCIgcGxhY2Vob2xkZXI9IkVudGVyIGltYWdlIFVSTCI+DQogICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9InBvbW9kb3JvIiBvbmNsaWNrPSJ1cGRhdGVCYWNrZ3JvdW5kKCd1cmwnKSI+VXBkYXRlIFVSTDwvYnV0dG9uPg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InNldHRpbmctaW5wdXQtZ3JvdXAiPg0KICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJiZ0ZpbGUiPlVwbG9hZCBJbWFnZTwvbGFiZWw+DQogICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJmaWxlIiBpZD0iYmdGaWxlIiBhY2NlcHQ9ImltYWdlLyoiPg0KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJwb21vZG9ybyIgb25jbGljaz0idXBkYXRlQmFja2dyb3VuZCgnZmlsZScpIj5VcGRhdGUgRmlsZTwvYnV0dG9uPg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InNldHRpbmctaW5wdXQtZ3JvdXAiPg0KICAgICAgICAgICAgICAgICAgICA8ZGl2PjwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJwb21vZG9ybyIgb25jbGljaz0icmVtb3ZlQmFja2dyb3VuZCgpIj5SZW1vdmUgQmFja2dyb3VuZDwvYnV0dG9uPg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPC9kaXY+DQoNCiAgICAgICAgICAgIDxkaXYgY2xhc3M9InNldHRpbmdzLWdyb3VwIj4NCiAgICAgICAgICAgICAgICA8aDM+UmVzZXQgU2V0dGluZ3M8L2gzPg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InNldHRpbmctaW5wdXQtZ3JvdXAiPg0KICAgICAgICAgICAgICAgICAgICA8ZGl2PjwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJwb21vZG9ybyIgb25jbGljaz0icmVzZXRBbGxTZXR0aW5ncygpIiB0aXRsZT0iUmVzZXQgYWxsIHNldHRpbmdzIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtdW5kbyI+PC9pPiBSZXNldCBBbGwNCiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgPC9kaXY+DQogICAgICAgIDxkaXYgY2xhc3M9InlvdXR1YmUtY29udGFpbmVyIj4NCiAgICAgICAgICAgIDxkaXYgaWQ9InlvdXR1YmVQbGF5ZXIiPjwvZGl2Pg0KICAgICAgICA8L2Rpdj4NCiAgICA8L2Rpdj4NCg0KICAgIDxkaXYgY2xhc3M9Im5vdGlmaWNhdGlvbiIgaWQ9Im5vdGlmaWNhdGlvbiI+PC9kaXY+DQoNCiAgICA8ZGl2IGNsYXNzPSJrZXlib2FyZC1zaG9ydGN1dHMiIGlkPSJrZXlib2FyZFNob3J0Y3V0cyIgb25jbGljaz0idG9nZ2xlS2V5Ym9hcmRTaG9ydGN1dHMoKSI+DQogICAgICAgIDxzdHJvbmc+S2V5Ym9hcmQgU2hvcnRjdXRzOjwvc3Ryb25nPg0KICAgICAgICA8ZGl2PlNwYWNlIC0gU3RhcnQvUGF1c2U8L2Rpdj4NCiAgICAgICAgPGRpdj5SIC0gUmVzZXQgVGltZXI8L2Rpdj4NCiAgICAgICAgPGRpdj4xIC0gUG9tb2Rvcm88L2Rpdj4NCiAgICAgICAgPGRpdj4yIC0gU2hvcnQgQnJlYWs8L2Rpdj4NCiAgICAgICAgPGRpdj4zIC0gTG9uZyBCcmVhazwvZGl2Pg0KICAgICAgICA8ZGl2PkNsaWNrIGhlcmUgdG8gaGlkZTwvZGl2Pg0KICAgIDwvZGl2Pg0KDQogICAgPHNjcmlwdD4NCiAgICAgICAgLy8gLS0tIFV0aWxpdHkgRnVuY3Rpb25zIC0tLQ0KICAgICAgICBjb25zdCBlbCA9IGlkID0+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTsNCiAgICAgICAgY29uc3QgZm9ybWF0VGltZSA9IHNlY29uZHMgPT4gew0KICAgICAgICAgICAgaWYgKHNlY29uZHMgPCAzNjAwKSB7IC8vIE1lbm9zIGRlIDEgaG9yYQ0KICAgICAgICAgICAgICAgIGNvbnN0IG1pbnMgPSBNYXRoLmZsb29yKHNlY29uZHMgLyA2MCk7DQogICAgICAgICAgICAgICAgY29uc3Qgc2VjcyA9IHNlY29uZHMgJSA2MDsNCiAgICAgICAgICAgICAgICByZXR1cm4gYCR7U3RyaW5nKG1pbnMpLnBhZFN0YXJ0KDIsICcwJyl9OiR7U3RyaW5nKHNlY3MpLnBhZFN0YXJ0KDIsICcwJyl9YDsNCiAgICAgICAgICAgIH0gZWxzZSB7IC8vIE1haXMgZGUgMSBob3JhDQogICAgICAgICAgICAgICAgY29uc3QgaG91cnMgPSBNYXRoLmZsb29yKHNlY29uZHMgLyAzNjAwKTsNCiAgICAgICAgICAgICAgICBjb25zdCBtaW5zID0gTWF0aC5mbG9vcigoc2Vjb25kcyAlIDM2MDApIC8gNjApOw0KICAgICAgICAgICAgICAgIHJldHVybiBgJHtob3Vyc31oICR7bWluc31tYDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfTsNCg0KICAgICAgICAvLyBGdW7Dp8OjbyBwYXJhIGNyaWFyIGJlZXANCiAgICAgICAgZnVuY3Rpb24gY3JlYXRlQmVlcChmcmVxdWVuY3kgPSA0NDAsIGR1cmF0aW9uID0gMjAwMCwgdm9sdW1lID0gMC41KSB7DQogICAgICAgICAgICBjb25zdCBhdWRpb0NvbnRleHQgPSBuZXcgKHdpbmRvdy5BdWRpb0NvbnRleHQgfHwgd2luZG93LndlYmtpdEF1ZGlvQ29udGV4dCkoKTsNCiAgICAgICAgICAgIGNvbnN0IG9zY2lsbGF0b3IgPSBhdWRpb0NvbnRleHQuY3JlYXRlT3NjaWxsYXRvcigpOw0KICAgICAgICAgICAgY29uc3QgZ2Fpbk5vZGUgPSBhdWRpb0NvbnRleHQuY3JlYXRlR2FpbigpOw0KDQogICAgICAgICAgICBvc2NpbGxhdG9yLmNvbm5lY3QoZ2Fpbk5vZGUpOw0KICAgICAgICAgICAgZ2Fpbk5vZGUuY29ubmVjdChhdWRpb0NvbnRleHQuZGVzdGluYXRpb24pOw0KDQogICAgICAgICAgICBvc2NpbGxhdG9yLmZyZXF1ZW5jeS52YWx1ZSA9IGZyZXF1ZW5jeTsNCiAgICAgICAgICAgIGdhaW5Ob2RlLmdhaW4udmFsdWUgPSB2b2x1bWU7DQoNCiAgICAgICAgICAgIG9zY2lsbGF0b3Iuc3RhcnQoKTsNCiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICAgICAgICAgIG9zY2lsbGF0b3Iuc3RvcCgpOw0KICAgICAgICAgICAgICAgIGF1ZGlvQ29udGV4dC5jbG9zZSgpOw0KICAgICAgICAgICAgfSwgZHVyYXRpb24pOw0KICAgICAgICB9DQogICAgICAgIGNvbnN0IHNob3dOb3RpZmljYXRpb24gPSAobWVzc2FnZSkgPT4gew0KICAgICAgICAgICAgY29uc3Qgbm90aWZpY2F0aW9uID0gZWwoJ25vdGlmaWNhdGlvbicpOw0KICAgICAgICAgICAgbm90aWZpY2F0aW9uLnRleHRDb250ZW50ID0gbWVzc2FnZTsNCiAgICAgICAgICAgIG5vdGlmaWNhdGlvbi5jbGFzc0xpc3QuYWRkKCdzaG93Jyk7DQogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IG5vdGlmaWNhdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdzaG93JyksIDMwMDApOw0KICAgICAgICB9Ow0KICAgICAgICBjb25zdCBlc2NhcGVIdG1sID0gdGV4dCA9PiB7DQogICAgICAgICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsNCiAgICAgICAgICAgIGRpdi50ZXh0Q29udGVudCA9IHRleHQ7DQogICAgICAgICAgICByZXR1cm4gZGl2LmlubmVySFRNTDsNCiAgICAgICAgfTsNCg0KICAgICAgICAvLyAtLS0gQ29uc3RhbnRzIC0tLQ0KICAgICAgICBjb25zdCBERUZBVUxUX1RJTUVTID0geyBwb21vZG9ybzogMjUgKiA2MCwgc2hvcnRCcmVhazogNSAqIDYwLCBsb25nQnJlYWs6IDE1ICogNjAgfTsNCiAgICAgICAgY29uc3QgREVGQVVMVF9TT1VORFMgPSB7IHBvbW9kb3JvOiAnY2hpbWUnLCBzaG9ydEJyZWFrOiAnYmVsbCcsIGxvbmdCcmVhazogJ2RpbmcnIH07DQogICAgICAgIGNvbnN0IENJUkNMRV9SQURJVVMgPSAxNDA7DQogICAgICAgIGNvbnN0IENJUkNMRV9DSVJDVU1GRVJFTkNFID0gMiAqIE1hdGguUEkgKiBDSVJDTEVfUkFESVVTOw0KICAgICAgICBjb25zdCBERUZBVUxUX1lPVVRVQkVfVVJMID0gImh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL3dhdGNoP3Y9amZLZlBmeUpSZGsiOw0KICAgICAgICBjb25zdCBjb2xvcnMgPSB7DQogICAgICAgICAgICBwb21vZG9ybzogJyNmZjZiNmInLA0KICAgICAgICAgICAgc2hvcnRCcmVhazogJyM0ZGFiZjcnLA0KICAgICAgICAgICAgbG9uZ0JyZWFrOiAnIzQwYzA1NycNCiAgICAgICAgfTsNCg0KICAgICAgICAvLyAtLS0gU3RhdGUgVmFyaWFibGVzIC0tLQ0KICAgICAgICBsZXQgdGltZUxlZnQ7DQogICAgICAgIGxldCB0aW1lcklkOw0KICAgICAgICBsZXQgY3VycmVudE1vZGUgPSAncG9tb2Rvcm8nOw0KICAgICAgICBsZXQgdGFza3MgPSBbXTsNCiAgICAgICAgbGV0IHNlbGVjdGVkVGFza0luZGV4ID0gbnVsbDsNCiAgICAgICAgbGV0IGF1dG9TdGFydEJyZWFrcyA9IHRydWU7DQogICAgICAgIGxldCBwb21vZG9yb0NvdW50ID0gMDsNCiAgICAgICAgbGV0IHBvbW9kb3Jvc0JlZm9yZUxvbmdCcmVhayA9IDQ7DQogICAgICAgIGxldCBub3RpZmljYXRpb25Tb3VuZHMgPSB7IC4uLkRFRkFVTFRfU09VTkRTIH07DQogICAgICAgIGxldCBtdXRlU291bmRzID0gZmFsc2U7DQogICAgICAgIGxldCBzdGF0aXN0aWNzID0geyB0b3RhbFBvbW9kb3JvczogMCwgdG90YWxGb2N1c1RpbWU6IDAsIGRhaWx5U3RyZWFrOiAwLCBsYXN0Q29tcGxldGVkOiBudWxsIH07DQogICAgICAgIGxldCB0aW1lcyA9IHsgLi4uREVGQVVMVF9USU1FUyB9Ow0KICAgICAgICBsZXQgeW91dHViZVBsYXllcjsNCg0KICAgICAgICAvLyAtLS0gRE9NIEVsZW1lbnRzIC0tLQ0KICAgICAgICBjb25zdCB0aW1lRGlzcGxheSA9IGVsKCd0aW1lJykucXVlcnlTZWxlY3Rvcignc3BhbicpOw0KICAgICAgICBjb25zdCBwb21vQ291bnRlckRpc3BsYXkgPSBlbCgndGltZScpLnF1ZXJ5U2VsZWN0b3IoJy5wb21vLWNvdW50ZXInKTsNCiAgICAgICAgY29uc3Qgc3RhcnRCdG4gPSBlbCgnc3RhcnRCdG4nKTsNCiAgICAgICAgY29uc3QgbW9kZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubW9kZS1idXR0b25zIGJ1dHRvbicpOw0KICAgICAgICBjb25zdCBwcm9ncmVzc0NpcmNsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9ncmVzcy1yaW5nX19jaXJjbGUnKTsNCiAgICAgICAgY29uc3QgcHJvZ3Jlc3NDaXJjbGVCZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9ncmVzcy1yaW5nX19jaXJjbGUtYmcnKTsNCiAgICAgICAgY29uc3Qga2V5Ym9hcmRTaG9ydGN1dHNEaXYgPSBlbCgna2V5Ym9hcmRTaG9ydGN1dHMnKTsNCiAgICAgICAgcHJvZ3Jlc3NDaXJjbGUuc3R5bGUuc3Ryb2tlRGFzaGFycmF5ID0gYCR7Q0lSQ0xFX0NJUkNVTUZFUkVOQ0V9ICR7Q0lSQ0xFX0NJUkNVTUZFUkVOQ0V9YDsNCiAgICAgICAgcHJvZ3Jlc3NDaXJjbGVCZy5zdHlsZS5zdHJva2VEYXNoYXJyYXkgPSBgJHtDSVJDTEVfQ0lSQ1VNRkVSRU5DRX0gJHtDSVJDTEVfQ0lSQ1VNRkVSRU5DRX1gOw0KDQogICAgICAgIC8vIC0tLSBZb3VUdWJlIEFQSSAtLS0NCiAgICAgICAgZnVuY3Rpb24gb25Zb3VUdWJlSWZyYW1lQVBJUmVhZHkoKSB7DQogICAgICAgICAgICB5b3V0dWJlUGxheWVyID0gbmV3IFlULlBsYXllcigneW91dHViZVBsYXllcicsIHsNCiAgICAgICAgICAgICAgICBoZWlnaHQ6ICczNjAnLA0KICAgICAgICAgICAgICAgIHdpZHRoOiAnNjQwJywNCiAgICAgICAgICAgICAgICB2aWRlb0lkOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgneW91dHViZVZpZGVvSWQnKSB8fCBnZXRWaWRlb0lkKERFRkFVTFRfWU9VVFVCRV9VUkwpLA0KICAgICAgICAgICAgICAgIHBsYXllclZhcnM6IHsgJ3BsYXlzaW5saW5lJzogMSB9LA0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICAgICAgY29uc3QgdGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7DQogICAgICAgIHRhZy5zcmMgPSAiaHR0cHM6Ly93d3cueW91dHViZS5jb20vaWZyYW1lX2FwaSI7DQogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGFnKTsNCg0KICAgICAgICBjb25zdCBnZXRWaWRlb0lkID0gKHVybCkgPT4gew0KICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSB1cmwubWF0Y2goLyg/OnlvdXR1XC5iZVwvfHlvdXR1YmVcLmNvbVwvKD86ZW1iZWRcL3x2XC98d2F0Y2hcP3Y9fCBTaG9ydHNcLykpKFthLXpBLVowLTlfLV0rKS8pOw0KICAgICAgICAgICAgcmV0dXJuIG1hdGNoID8gbWF0Y2hbMV0gOiBudWxsOw0KICAgICAgICB9Ow0KDQogICAgICAgIC8vIC0tLSBMb2NhbCBTdG9yYWdlIC0tLQ0KICAgICAgICBjb25zdCBsb2FkU2V0dGluZ3MgPSAoKSA9PiB7DQogICAgICAgICAgICBjb25zdCBzZXR0aW5ncyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3BvbW9kb3JvU2V0dGluZ3MnKSB8fCAne30nKTsNCiAgICAgICAgICAgIHRpbWVzID0gc2V0dGluZ3MudGltZXMgfHwgeyAuLi5ERUZBVUxUX1RJTUVTIH07DQogICAgICAgICAgICB0YXNrcyA9IHNldHRpbmdzLnRhc2tzIHx8IFtdOw0KICAgICAgICAgICAgc3RhdGlzdGljcyA9IHNldHRpbmdzLnN0YXRpc3RpY3MgfHwgeyB0b3RhbFBvbW9kb3JvczogMCwgdG90YWxGb2N1c1RpbWU6IDAsIGRhaWx5U3RyZWFrOiAwLCBsYXN0Q29tcGxldGVkOiBudWxsIH07DQogICAgICAgICAgICBhdXRvU3RhcnRCcmVha3MgPSBzZXR0aW5ncy5hdXRvU3RhcnRCcmVha3MgPz8gdHJ1ZTsNCiAgICAgICAgICAgIHBvbW9kb3Jvc0JlZm9yZUxvbmdCcmVhayA9IHNldHRpbmdzLnBvbW9kb3Jvc0JlZm9yZUxvbmdCcmVhayA/PyA0Ow0KICAgICAgICAgICAgbm90aWZpY2F0aW9uU291bmRzID0gc2V0dGluZ3Mubm90aWZpY2F0aW9uU291bmRzIHx8IHsgLi4uREVGQVVMVF9TT1VORFMgfTsNCiAgICAgICAgICAgIG11dGVTb3VuZHMgPSBzZXR0aW5ncy5tdXRlU291bmRzID8/IGZhbHNlOw0KICAgICAgICAgICAgc2VsZWN0ZWRUYXNrSW5kZXggPSBzZXR0aW5ncy5zZWxlY3RlZFRhc2tJbmRleCA/PyBudWxsOw0KICAgICAgICAgICAgY29uc3QgYmcgPSBzZXR0aW5ncy5iYWNrZ3JvdW5kOw0KICAgICAgICAgICAgaWYgKGJnKSBkb2N1bWVudC5ib2R5LnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoJyR7Ymd9JylgOw0KICAgICAgICAgICAgZWwoJ3BvbW9kb3JvVGltZScpLnZhbHVlID0gdGltZXMucG9tb2Rvcm8gLyA2MDsNCiAgICAgICAgICAgIGVsKCdzaG9ydEJyZWFrVGltZScpLnZhbHVlID0gdGltZXMuc2hvcnRCcmVhayAvIDYwOw0KICAgICAgICAgICAgZWwoJ2xvbmdCcmVha1RpbWUnKS52YWx1ZSA9IHRpbWVzLmxvbmdCcmVhayAvIDYwOw0KICAgICAgICAgICAgZWwoJ3BvbW9kb3Jvc0JlZm9yZUxvbmdCcmVhaycpLnZhbHVlID0gcG9tb2Rvcm9zQmVmb3JlTG9uZ0JyZWFrOw0KICAgICAgICAgICAgZWwoJ2F1dG9TdGFydEJyZWFrcycpLmNoZWNrZWQgPSBhdXRvU3RhcnRCcmVha3M7DQogICAgICAgICAgICBlbCgncG9tb2Rvcm9Tb3VuZCcpLnZhbHVlID0gbm90aWZpY2F0aW9uU291bmRzLnBvbW9kb3JvOw0KICAgICAgICAgICAgZWwoJ3Nob3J0QnJlYWtTb3VuZCcpLnZhbHVlID0gbm90aWZpY2F0aW9uU291bmRzLnNob3J0QnJlYWs7DQogICAgICAgICAgICBlbCgnbG9uZ0JyZWFrU291bmQnKS52YWx1ZSA9IG5vdGlmaWNhdGlvblNvdW5kcy5sb25nQnJlYWs7DQogICAgICAgICAgICBlbCgnbXV0ZVNvdW5kcycpLmNoZWNrZWQgPSBtdXRlU291bmRzOw0KICAgICAgICAgICAgZWwoJ3lvdXR1YmVVcmwnKS52YWx1ZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd5b3V0dWJlVmlkZW9JZCcpID8gYGh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL3dhdGNoP3Y9JHtsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgneW91dHViZVZpZGVvSWQnKX1gIDogREVGQVVMVF9ZT1VUVUJFX1VSTDsNCiAgICAgICAgICAgIHVwZGF0ZVRhc2tMaXN0KCk7DQogICAgICAgICAgICB1cGRhdGVUYXNrU2VsZWN0KCk7DQogICAgICAgICAgICB1cGRhdGVTdGF0aXN0aWNzKCk7DQogICAgICAgIH07DQogICAgICAgIGNvbnN0IHNhdmVTZXR0aW5ncyA9ICgpID0+IHsNCiAgICAgICAgICAgIGNvbnN0IHNldHRpbmdzID0gew0KICAgICAgICAgICAgICAgIHRpbWVzLCB0YXNrcywgc3RhdGlzdGljcywgYXV0b1N0YXJ0QnJlYWtzLCBwb21vZG9yb3NCZWZvcmVMb25nQnJlYWssDQogICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uU291bmRzLCBtdXRlU291bmRzLCBzZWxlY3RlZFRhc2tJbmRleCwgYmFja2dyb3VuZDogZG9jdW1lbnQuYm9keS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2Uuc2xpY2UoNSwgLTIpDQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3BvbW9kb3JvU2V0dGluZ3MnLCBKU09OLnN0cmluZ2lmeShzZXR0aW5ncykpOw0KICAgICAgICB9Ow0KICAgICAgICBmdW5jdGlvbiB1cGRhdGVDb2xvcihtb2RlKSB7DQogICAgICAgICAgICBjb25zdCBjb2xvciA9IGNvbG9yc1ttb2RlXTsNCiAgICAgICAgICAgIHByb2dyZXNzQ2lyY2xlLnN0eWxlLnN0cm9rZSA9IGNvbG9yOw0KICAgICAgICAgICAgcHJvZ3Jlc3NDaXJjbGVCZy5zdHlsZS5zdHJva2UgPSBjb2xvcjsNCiAgICAgICAgICAgIHByb2dyZXNzQ2lyY2xlQmcuc3R5bGUub3BhY2l0eSA9ICcwLjInOw0KICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNvbnRyb2xzIGJ1dHRvbicpLmZvckVhY2goYnRuID0+IHsNCiAgICAgICAgICAgICAgICBidG4uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29sb3I7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIG1vZGVCdXR0b25zLmZvckVhY2goYnRuID0+IHsNCiAgICAgICAgICAgICAgICBidG4uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29sb3I7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vIC0tLSBUaW1lciBGdW5jdGlvbnMgLS0tDQogICAgICAgIGNvbnN0IHNldFByb2dyZXNzID0gcGVyY2VudCA9PiB7DQogICAgICAgICAgICBjb25zdCBvZmZzZXQgPSBDSVJDTEVfQ0lSQ1VNRkVSRU5DRSAtIChwZXJjZW50IC8gMTAwKSAqIENJUkNMRV9DSVJDVU1GRVJFTkNFOw0KICAgICAgICAgICAgcHJvZ3Jlc3NDaXJjbGUuc3R5bGUuc3Ryb2tlRGFzaG9mZnNldCA9IG9mZnNldDsNCiAgICAgICAgfTsNCiAgICAgICAgY29uc3QgdXBkYXRlRGlzcGxheSA9ICgpID0+IHsNCiAgICAgICAgICAgIGNvbnN0IGZvcm1hdHRlZFRpbWUgPSBmb3JtYXRUaW1lKE1hdGgubWF4KDAsIHRpbWVMZWZ0KSk7DQogICAgICAgICAgICB0aW1lRGlzcGxheS50ZXh0Q29udGVudCA9IGZvcm1hdHRlZFRpbWU7DQogICAgICAgICAgICBzZXRQcm9ncmVzcygodGltZXNbY3VycmVudE1vZGVdIC0gdGltZUxlZnQpIC8gdGltZXNbY3VycmVudE1vZGVdICogMTAwKTsNCiAgICAgICAgICAgIHBvbW9Db3VudGVyRGlzcGxheS50ZXh0Q29udGVudCA9IHN0YXRpc3RpY3MudG90YWxQb21vZG9yb3MgPiAwID8gc3RhdGlzdGljcy50b3RhbFBvbW9kb3JvcyA6ICcnOw0KICAgICAgICB9Ow0KICAgICAgICBjb25zdCBzZXRNb2RlID0gKG1vZGUpID0+IHsNCiAgICAgICAgICAgIG1vZGVCdXR0b25zLmZvckVhY2goYnRuID0+IHsNCiAgICAgICAgICAgICAgICBidG4uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke21vZGV9YCkuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7DQogICAgICAgICAgICBjdXJyZW50TW9kZSA9IG1vZGU7DQogICAgICAgICAgICB0aW1lTGVmdCA9IHRpbWVzW21vZGVdOw0KICAgICAgICAgICAgdXBkYXRlQ29sb3IobW9kZSk7DQogICAgICAgICAgICByZXNldFRpbWVyKCk7DQogICAgICAgICAgICB1cGRhdGVEaXNwbGF5KCk7DQogICAgICAgIH07DQogICAgICAgICBjb25zdCBzdGFydFRpbWVyID0gKCkgPT4gew0KICAgICAgICAgICAgaWYgKHRpbWVySWQpIHsNCiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpOw0KICAgICAgICAgICAgICAgIHRpbWVySWQgPSBudWxsOw0KICAgICAgICAgICAgICAgIHN0YXJ0QnRuLmlubmVySFRNTCA9ICc8aSBjbGFzcz0iZmFzIGZhLXBsYXkiPjwvaT4gU3RhcnQnOw0KICAgICAgICAgICAgICAgIHlvdXR1YmVQbGF5ZXI/LnBhdXNlVmlkZW8oKTsNCg0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBzdGFydFRpbWVzdGFtcCA9IERhdGUubm93KCkgLSAoKHRpbWVzW2N1cnJlbnRNb2RlXSAtIHRpbWVMZWZ0KSAqIDEwMDApOw0KDQogICAgICAgICAgICAgICAgdGltZXJJZCA9IHNldEludGVydmFsKCgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgZWxhcHNlZCA9IE1hdGguZmxvb3IoKERhdGUubm93KCkgLSBzdGFydFRpbWVzdGFtcCkgLyAxMDAwKTsNCiAgICAgICAgICAgICAgICAgICAgdGltZUxlZnQgPSB0aW1lc1tjdXJyZW50TW9kZV0gLSBlbGFwc2VkOw0KDQogICAgICAgICAgICAgICAgICAgIGlmICh0aW1lTGVmdCA8PSAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgdGltZXJJZCA9IG51bGw7DQogICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVUaW1lckVuZCgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRNb2RlID09PSAncG9tb2Rvcm8nKSB7DQoNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB1cGRhdGVEaXNwbGF5KCk7DQogICAgICAgICAgICAgICAgfSwgMTAwMCk7DQoNCiAgICAgICAgICAgICAgICBzdGFydEJ0bi5pbm5lckhUTUwgPSAnPGkgY2xhc3M9ImZhcyBmYS1wYXVzZSI+PC9pPiBQYXVzZSc7DQogICAgICAgICAgICAgICAgeW91dHViZVBsYXllcj8ucGxheVZpZGVvKCk7DQogICAgICAgICAgICB9DQogICAgICAgIH07DQogICAgICAgIGNvbnN0IHJlc2V0VGltZXIgPSAoKSA9PiB7DQogICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpOw0KICAgICAgICAgICAgdGltZXJJZCA9IG51bGw7DQogICAgICAgICAgICB0aW1lTGVmdCA9IHRpbWVzW2N1cnJlbnRNb2RlXTsNCiAgICAgICAgICAgIHVwZGF0ZURpc3BsYXkoKTsNCiAgICAgICAgICAgIHN0YXJ0QnRuLmlubmVySFRNTCA9ICc8aSBjbGFzcz0iZmFzIGZhLXBsYXkiPjwvaT4gU3RhcnQnOw0KICAgICAgICAgICAgeW91dHViZVBsYXllcj8ucGF1c2VWaWRlbygpOw0KDQogICAgICAgIH07DQogICAgICAgIGNvbnN0IGhhbmRsZVRpbWVyRW5kID0gKCkgPT4gew0KICAgICAgICAgICAgbGV0IG5leHRNb2RlOw0KICAgICAgICAgICAgaWYgKGN1cnJlbnRNb2RlID09PSAncG9tb2Rvcm8nKSB7DQogICAgICAgICAgICAgICAgc3RhdGlzdGljcy50b3RhbFBvbW9kb3JvcysrOw0KICAgICAgICAgICAgICAgICBzdGF0aXN0aWNzLnRvdGFsRm9jdXNUaW1lICs9IHRpbWVzLnBvbW9kb3JvOyAvLyBBZGQgdGhlIHRpbWUgc3BlbnQNCiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRUYXNrSW5kZXggIT09IG51bGwpIHRhc2tzW3NlbGVjdGVkVGFza0luZGV4XS5wb21vZG9yb3MrKzsNCiAgICAgICAgICAgICAgICB1cGRhdGVTdGF0aXN0aWNzKCk7DQogICAgICAgICAgICAgICAgcGxheU5vdGlmaWNhdGlvblNvdW5kKCdwb21vZG9ybycpOw0KICAgICAgICAgICAgICAgIHNob3dOb3RpZmljYXRpb24oJ1BvbW9kb3JvIENvbXBsZXRlIScpOw0KICAgICAgICAgICAgICAgIHBvbW9kb3JvQ291bnQrKzsNCiAgICAgICAgICAgICAgICBuZXh0TW9kZSA9IChzdGF0aXN0aWNzLnRvdGFsUG9tb2Rvcm9zICUgcG9tb2Rvcm9zQmVmb3JlTG9uZ0JyZWFrID09PSAwKSA/ICdsb25nQnJlYWsnIDogJ3Nob3J0QnJlYWsnOw0KICAgICAgICAgICAgICAgIGlmIChuZXh0TW9kZSA9PT0gJ2xvbmdCcmVhaycpIHBvbW9kb3JvQ291bnQgPSAwOw0KDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHBsYXlOb3RpZmljYXRpb25Tb3VuZChjdXJyZW50TW9kZSk7DQogICAgICAgICAgICAgICAgc2hvd05vdGlmaWNhdGlvbignQnJlYWsgQ29tcGxldGUhJyk7DQogICAgICAgICAgICAgICAgbmV4dE1vZGUgPSAncG9tb2Rvcm8nOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLy8gQXR1YWxpemEgbyBtb2RvIHZpc3VhbG1lbnRlDQogICAgICAgICAgICBtb2RlQnV0dG9ucy5mb3JFYWNoKGJ0biA9PiB7DQogICAgICAgICAgICAgICAgYnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtuZXh0TW9kZX1gKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTsNCiAgICAgICAgICAgIGN1cnJlbnRNb2RlID0gbmV4dE1vZGU7DQoNCiAgICAgICAgICAgIC8vIEF0dWFsaXphIGEgY29yIGRvIHRpbWVyDQogICAgICAgICAgICB1cGRhdGVDb2xvcihjdXJyZW50TW9kZSk7DQoNCiAgICAgICAgICAgIC8vIERlZmluZSBvIG5vdm8gdGVtcG8gZSBhdHVhbGl6YSBvIGRpc3BsYXkNCiAgICAgICAgICAgIHRpbWVMZWZ0ID0gdGltZXNbY3VycmVudE1vZGVdOw0KICAgICAgICAgICAgdXBkYXRlRGlzcGxheSgpOw0KDQogICAgICAgICAgICBpZiAoYXV0b1N0YXJ0QnJlYWtzKSB7DQogICAgICAgICAgICAgICAgc3RhcnRUaW1lcigpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBzdGFydEJ0bi5pbm5lckhUTUwgPSAnPGkgY2xhc3M9ImZhcyBmYS1wbGF5Ij48L2k+IFN0YXJ0JzsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgdXBkYXRlVGFza0xpc3QoKTsNCiAgICAgICAgICAgIHNhdmVTZXR0aW5ncygpOw0KICAgICAgICB9Ow0KDQoNCiAgICAgICAgLy8gLS0tIFRhc2sgTWFuYWdlbWVudCAtLS0NCiAgICAgICAgY29uc3QgaGFuZGxlVGFza0lucHV0ID0gKGV2ZW50KSA9PiB7IGlmIChldmVudC5rZXkgPT09ICdFbnRlcicpIGFkZFRhc2soKTsgfTsNCiAgICAgICAgY29uc3QgYWRkVGFzayA9ICgpID0+IHsNCiAgICAgICAgICAgIGNvbnN0IHRhc2tJbnB1dCA9IGVsKCd0YXNrSW5wdXQnKTsNCiAgICAgICAgICAgIGNvbnN0IHRhc2tUZXh0ID0gdGFza0lucHV0LnZhbHVlLnRyaW0oKTsNCiAgICAgICAgICAgIGlmICh0YXNrVGV4dCkgew0KICAgICAgICAgICAgICAgIHRhc2tzLnB1c2goeyB0ZXh0OiBlc2NhcGVIdG1sKHRhc2tUZXh0KSwgY29tcGxldGVkOiBmYWxzZSwgcG9tb2Rvcm9zOiAwIH0pOw0KICAgICAgICAgICAgICAgIHRhc2tJbnB1dC52YWx1ZSA9ICcnOw0KICAgICAgICAgICAgICAgIHVwZGF0ZVRhc2tMaXN0KCk7DQogICAgICAgICAgICAgICAgdXBkYXRlVGFza1NlbGVjdCgpOw0KICAgICAgICAgICAgICAgIHNhdmVTZXR0aW5ncygpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9Ow0KICAgICAgICBjb25zdCByZW1vdmVUYXNrID0gKGluZGV4KSA9PiB7DQogICAgICAgICAgICB0YXNrcy5zcGxpY2UoaW5kZXgsIDEpOw0KICAgICAgICAgICAgaWYgKHNlbGVjdGVkVGFza0luZGV4ID49IHRhc2tzLmxlbmd0aCkgc2VsZWN0ZWRUYXNrSW5kZXggPSBudWxsOw0KICAgICAgICAgICAgdXBkYXRlVGFza0xpc3QoKTsNCiAgICAgICAgICAgIHVwZGF0ZVRhc2tTZWxlY3QoKTsNCiAgICAgICAgICAgIHNhdmVTZXR0aW5ncygpOw0KICAgICAgICB9Ow0KICAgICAgICBjb25zdCB0b2dnbGVUYXNrID0gKGluZGV4KSA9PiB7DQogICAgICAgICAgICB0YXNrc1tpbmRleF0uY29tcGxldGVkID0gIXRhc2tzW2luZGV4XS5jb21wbGV0ZWQ7DQogICAgICAgICAgICB1cGRhdGVUYXNrTGlzdCgpOw0KICAgICAgICAgICAgc2F2ZVNldHRpbmdzKCk7DQogICAgICAgIH07DQogICAgICAgIGNvbnN0IHVwZGF0ZVRhc2tMaXN0ID0gKCkgPT4gew0KICAgICAgICAgICAgY29uc3QgdGFza0xpc3REaXYgPSBlbCgndGFza0xpc3QnKTsNCiAgICAgICAgICAgIHRhc2tMaXN0RGl2LmlubmVySFRNTCA9ICcnOw0KICAgICAgICAgICAgdGFza3MuZm9yRWFjaCgodGFzaywgaW5kZXgpID0+IHsNCiAgICAgICAgICAgICAgICB0YXNrTGlzdERpdi5pbm5lckhUTUwgKz0gYA0KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0YXNrLWl0ZW0gJHt0YXNrLmNvbXBsZXRlZCA/ICdjb21wbGV0ZWQnIDogJyd9Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJjaGVja2JveCIgJHt0YXNrLmNvbXBsZXRlZCA/ICdjaGVja2VkJyA6ICcnfSBvbmNsaWNrPSJ0b2dnbGVUYXNrKCR7aW5kZXh9KSI+DQogICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj4ke3Rhc2sudGV4dH08L3NwYW4+DQogICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0icG9tb2Rvcm8tY291bnQiPlBvbW9kb3JvczogJHt0YXNrLnBvbW9kb3Jvc308L3NwYW4+DQogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0YXNrLWFjdGlvbnMiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9InBvbW9kb3JvIiBvbmNsaWNrPSJyZW1vdmVUYXNrKCR7aW5kZXh9KSI+PGkgY2xhc3M9ImZhcyBmYS10cmFzaCI+PC9pPjwvYnV0dG9uPg0KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgIDwvZGl2PmA7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfTsNCiAgICAgICAgY29uc3QgdXBkYXRlVGFza1NlbGVjdCA9ICgpID0+IHsNCiAgICAgICAgICAgIGNvbnN0IHRhc2tTZWxlY3QgPSBlbCgndGFza1NlbGVjdCcpOw0KICAgICAgICAgICAgdGFza1NlbGVjdC5pbm5lckhUTUwgPSAnPG9wdGlvbiB2YWx1ZT0iIj5TZWxlY3QgYSB0YXNrPC9vcHRpb24+JzsNCiAgICAgICAgICAgIHRhc2tzLmZvckVhY2goKHRhc2ssIGluZGV4KSA9PiB7DQogICAgICAgICAgICAgICAgdGFza1NlbGVjdC5pbm5lckhUTUwgKz0gYDxvcHRpb24gdmFsdWU9IiR7aW5kZXh9Ij4ke3Rhc2sudGV4dH08L29wdGlvbj5gOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB0YXNrU2VsZWN0LnZhbHVlID0gc2VsZWN0ZWRUYXNrSW5kZXggPT09IG51bGwgPyAnJyA6IHNlbGVjdGVkVGFza0luZGV4Ow0KICAgICAgICB9Ow0KDQogICAgICAgIGVsKCd0YXNrU2VsZWN0JykuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgc2VsZWN0ZWRUYXNrSW5kZXggPSB0aGlzLnZhbHVlID09PSAnJyA/IG51bGwgOiBwYXJzZUludCh0aGlzLnZhbHVlKTsNCiAgICAgICAgICAgIHNhdmVTZXR0aW5ncygpOw0KICAgICAgICB9KTsNCg0KICAgICAgICAvLyAtLS0gU2V0dGluZ3MgUGFuZWwgLS0tDQogICAgICAgIGNvbnN0IHRvZ2dsZVNldHRpbmdzID0gKCkgPT4gew0KICAgICAgICAgICAgY29uc3Qgc2V0dGluZ3NQYW5lbCA9IGVsKCdzZXR0aW5nc1BhbmVsJyk7DQogICAgICAgICAgICBzZXR0aW5nc1BhbmVsLnN0eWxlLmRpc3BsYXkgPSBzZXR0aW5nc1BhbmVsLnN0eWxlLmRpc3BsYXkgPT09ICdub25lJyA/ICdibG9jaycgOiAnbm9uZSc7DQogICAgICAgICAgICBpZiAoc2V0dGluZ3NQYW5lbC5zdHlsZS5kaXNwbGF5ID09PSAnYmxvY2snKSBzZXR0aW5nc1BhbmVsLnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnIH0pOw0KICAgICAgICB9Ow0KICAgICAgICBjb25zdCB1cGRhdGVUaW1lRnJvbUlucHV0ID0gKGlkLCB2YWx1ZSkgPT4gew0KICAgICAgICAgICAgY29uc3QgbW9kZSA9IGlkLnJlcGxhY2UoJ1RpbWUnLCAnJyk7DQogICAgICAgICAgICB0aW1lc1ttb2RlXSA9IHBhcnNlSW50KHZhbHVlLCAxMCkgKiA2MDsNCiAgICAgICAgICAgIGlmIChjdXJyZW50TW9kZSA9PT0gbW9kZSkgew0KICAgICAgICAgICAgICAgIHRpbWVMZWZ0ID0gdGltZXNbY3VycmVudE1vZGVdOw0KICAgICAgICAgICAgICAgIHVwZGF0ZURpc3BsYXkoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHNhdmVTZXR0aW5ncygpOw0KICAgICAgICB9Ow0KICAgICAgICBjb25zdCB1cGRhdGVCYWNrZ3JvdW5kID0gKHR5cGUpID0+IHsNCiAgICAgICAgICAgIGlmICh0eXBlID09PSAndXJsJykgew0KICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IGVsKCdiZ1VybCcpLnZhbHVlLnRyaW0oKTsNCiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IHVybCA/IGB1cmwoJyR7dXJsfScpYCA6ICcnOw0KICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnZmlsZScpIHsNCiAgICAgICAgICAgICAgICBjb25zdCBmaWxlID0gZWwoJ2JnRmlsZScpLmZpbGVzWzBdOw0KICAgICAgICAgICAgICAgIGlmIChmaWxlKSB7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7DQogICAgICAgICAgICAgICAgICAgIHJlYWRlci5vbmxvYWRlbmQgPSAoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoJyR7cmVhZGVyLnJlc3VsdH0nKWA7DQogICAgICAgICAgICAgICAgICAgICAgICBzYXZlU2V0dGluZ3MoKTsNCiAgICAgICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgc2F2ZVNldHRpbmdzKCk7DQogICAgICAgIH07DQogICAgICAgIGNvbnN0IHJlbW92ZUJhY2tncm91bmQgPSAoKSA9PiB7DQogICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmJhY2tncm91bmRJbWFnZSA9ICcnOw0KICAgICAgICAgICAgZWwoJ2JnVXJsJykudmFsdWUgPSAnJzsNCiAgICAgICAgICAgIGVsKCdiZ0ZpbGUnKS52YWx1ZSA9ICcnOw0KICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2JhY2tncm91bmRJbWFnZScsICcnKTsNCiAgICAgICAgICAgIHNhdmVTZXR0aW5ncygpOw0KICAgICAgICB9Ow0KICAgICAgICBjb25zdCB1cGRhdGVZb3VUdWJlVmlkZW8gPSAoKSA9PiB7DQogICAgICAgICAgICBjb25zdCB1cmwgPSBlbCgneW91dHViZVVybCcpLnZhbHVlOw0KICAgICAgICAgICAgY29uc3QgdmlkZW9JZCA9IGdldFZpZGVvSWQodXJsKTsNCiAgICAgICAgICAgIGlmICh2aWRlb0lkICYmIHlvdXR1YmVQbGF5ZXIgJiYgeW91dHViZVBsYXllci5sb2FkVmlkZW9CeUlkKSB7DQogICAgICAgICAgICAgICAgeW91dHViZVBsYXllci5sb2FkVmlkZW9CeUlkKHZpZGVvSWQpOw0KICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd5b3V0dWJlVmlkZW9JZCcsIHZpZGVvSWQpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgc2F2ZVNldHRpbmdzKCk7DQogICAgICAgIH07DQogICAgICAgIGNvbnN0IHJlc2V0QWxsU2V0dGluZ3MgPSAoKSA9PiB7DQogICAgICAgICAgICB0aW1lcyA9IHsgLi4uREVGQVVMVF9USU1FUyB9Ow0KICAgICAgICAgICAgbm90aWZpY2F0aW9uU291bmRzID0geyAuLi5ERUZBVUxUX1NPVU5EUyB9Ow0KICAgICAgICAgICAgYXV0b1N0YXJ0QnJlYWtzID0gdHJ1ZTsNCiAgICAgICAgICAgIHBvbW9kb3Jvc0JlZm9yZUxvbmdCcmVhayA9IDQ7DQogICAgICAgICAgICBzdGF0aXN0aWNzID0geyB0b3RhbFBvbW9kb3JvczogMCwgdG90YWxGb2N1c1RpbWU6IDAsIGRhaWx5U3RyZWFrOiAwLCBsYXN0Q29tcGxldGVkOiBudWxsIH07DQogICAgICAgICAgICB0YXNrcyA9IFtdOw0KICAgICAgICAgICAgc2VsZWN0ZWRUYXNrSW5kZXggPSBudWxsOw0KICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSAnJzsNCiAgICAgICAgICAgIGVsKCdwb21vZG9yb1RpbWUnKS52YWx1ZSA9IHRpbWVzLnBvbW9kb3JvIC8gNjA7DQogICAgICAgICAgICBlbCgnc2hvcnRCcmVha1RpbWUnKS52YWx1ZSA9IHRpbWVzLnNob3J0QnJlYWsgLyA2MDsNCiAgICAgICAgICAgIGVsKCdsb25nQnJlYWtUaW1lJykudmFsdWUgPSB0aW1lcy5sb25nQnJlYWsgLyA2MDsNCiAgICAgICAgICAgIGVsKCdwb21vZG9yb3NCZWZvcmVMb25nQnJlYWsnKS52YWx1ZSA9IHBvbW9kb3Jvc0JlZm9yZUxvbmdCcmVhazsNCiAgICAgICAgICAgIGVsKCdhdXRvU3RhcnRCcmVha3MnKS5jaGVja2VkID0gYXV0b1N0YXJ0QnJlYWtzOw0KICAgICAgICAgICAgZWwoJ3BvbW9kb3JvU291bmQnKS52YWx1ZSA9IG5vdGlmaWNhdGlvblNvdW5kcy5wb21vZG9ybzsNCiAgICAgICAgICAgIGVsKCdzaG9ydEJyZWFrU291bmQnKS52YWx1ZSA9IG5vdGlmaWNhdGlvblNvdW5kcy5zaG9ydEJyZWFrOw0KICAgICAgICAgICAgZWwoJ2xvbmdCcmVha1NvdW5kJykudmFsdWUgPSBub3RpZmljYXRpb25Tb3VuZHMubG9uZ0JyZWFrOw0KICAgICAgICAgICAgZWwoJ211dGVTb3VuZHMnKS5jaGVja2VkID0gbXV0ZVNvdW5kczsNCiAgICAgICAgICAgIGVsKCdiZ1VybCcpLnZhbHVlID0gJyc7DQogICAgICAgICAgICBlbCgnYmdGaWxlJykudmFsdWUgPSAnJzsNCiAgICAgICAgICAgIGVsKCd5b3V0dWJlVXJsJykudmFsdWUgPSBERUZBVUxUX1lPVVRVQkVfVVJMOw0KICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3lvdXR1YmVWaWRlb0lkJyk7DQogICAgICAgICAgICByZXNldFRpbWVyKCk7DQogICAgICAgICAgICB1cGRhdGVUYXNrTGlzdCgpOw0KICAgICAgICAgICAgdXBkYXRlVGFza1NlbGVjdCgpOw0KICAgICAgICAgICAgdXBkYXRlU3RhdGlzdGljcygpOw0KICAgICAgICAgICAgc2F2ZVNldHRpbmdzKCk7DQogICAgICAgIH07DQoNCiAgICAgICAgLy8gLS0tIFN0YXRpc3RpY3MgLS0tDQogICAgICAgIGNvbnN0IHVwZGF0ZVN0YXRpc3RpY3MgPSAoKSA9PiB7DQogICAgICAgICAgICBlbCgndG90YWxQb21vZG9yb3NTdGF0JykudGV4dENvbnRlbnQgPSBzdGF0aXN0aWNzLnRvdGFsUG9tb2Rvcm9zOw0KICAgICAgICAgICAgZWwoJ3RvdGFsVGltZScpLnRleHRDb250ZW50ID0gZm9ybWF0VGltZShzdGF0aXN0aWNzLnRvdGFsRm9jdXNUaW1lKTsNCiAgICAgICAgICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKS50b0RhdGVTdHJpbmcoKTsNCiAgICAgICAgICAgIGNvbnN0IGxhc3RDb21wbGV0ZWQgPSBzdGF0aXN0aWNzLmxhc3RDb21wbGV0ZWQgPyBuZXcgRGF0ZShzdGF0aXN0aWNzLmxhc3RDb21wbGV0ZWQpLnRvRGF0ZVN0cmluZygpIDogbnVsbDsNCiAgICAgICAgICAgIGlmIChsYXN0Q29tcGxldGVkID09PSB0b2RheSkgew0KICAgICAgICAgICAgICAgIHN0YXRpc3RpY3MuZGFpbHlTdHJlYWsrKzsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAobGFzdENvbXBsZXRlZCAhPT0gbnVsbCAmJiBsYXN0Q29tcGxldGVkICE9PSB0b2RheSkgew0KICAgICAgICAgICAgICAgIHN0YXRpc3RpY3MuZGFpbHlTdHJlYWsgPSAxOw0KICAgICAgICAgICAgfSBlbHNlIGlmIChzdGF0aXN0aWNzLnRvdGFsUG9tb2Rvcm9zID4gMCAmJiBsYXN0Q29tcGxldGVkID09PSBudWxsKSB7DQogICAgICAgICAgICAgICAgc3RhdGlzdGljcy5kYWlseVN0cmVhayA9IDE7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBzdGF0aXN0aWNzLmxhc3RDb21wbGV0ZWQgPSBuZXcgRGF0ZSgpOw0KICAgICAgICAgICAgc2F2ZVNldHRpbmdzKCk7DQogICAgICAgIH07DQoNCiAgICAgICAgLy8gTm92byBFdmVudCBMaXN0ZW5lciBwYXJhIHZpc2liaWxpZGFkZSBkYSBww6FnaW5hDQogICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCAoKSA9PiB7DQogICAgICAgICAgICBpZiAoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSAndmlzaWJsZScgJiYgdGltZXJJZCkgew0KICAgICAgICAgICAgICAgIC8vIFJlY2FsY3VsYSBvIHRlbXBvIHJlc3RhbnRlIGJhc2VhZG8gbm8gdGltZXN0YW1wIGluaWNpYWwNCiAgICAgICAgICAgICAgICBjb25zdCBlbGFwc2VkID0gTWF0aC5mbG9vcigoRGF0ZS5ub3coKSAtIHN0YXJ0VGltZXN0YW1wKSAvIDEwMDApOw0KICAgICAgICAgICAgICAgIHRpbWVMZWZ0ID0gTWF0aC5tYXgoMCwgdGltZXNbY3VycmVudE1vZGVdIC0gZWxhcHNlZCk7DQogICAgICAgICAgICAgICAgdXBkYXRlRGlzcGxheSgpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCg0KDQogICAgICAgIGNvbnN0IHBsYXlOb3RpZmljYXRpb25Tb3VuZCA9IChtb2RlKSA9PiB7DQogICAgICAgICAgICBpZiAoIW11dGVTb3VuZHMpIHsNCiAgICAgICAgICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvblNvdW5kc1ttb2RlXSkgew0KICAgICAgICAgICAgICAgICAgICBjYXNlICdiZWxsJzoNCiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUJlZXAoOTUwLCAxNTAwKTsgLy8gRnJlcXXDqm5jaWEgbWFpcyBhbHRhDQogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgY2FzZSAnY2hpbWUnOg0KICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlQmVlcCg2MDAsIDE1MDApOyAvLyBGcmVxdcOqbmNpYSBtw6lkaWENCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICBjYXNlICdkaW5nJzoNCiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUJlZXAoMjAwLCAxNTAwKTsgLy8gRnJlcXXDqm5jaWEgbWFpcyBiYWl4YQ0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9Ow0KDQogICAgICAgIC8vIC0tLSBFdmVudCBMaXN0ZW5lcnMgLS0tDQogICAgICAgIGVsKCdwb21vZG9yb1RpbWUnKS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4gdXBkYXRlVGltZUZyb21JbnB1dCgncG9tb2Rvcm9UaW1lJywgZS50YXJnZXQudmFsdWUpKTsNCiAgICAgICAgZWwoJ3Nob3J0QnJlYWtUaW1lJykuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpID0+IHVwZGF0ZVRpbWVGcm9tSW5wdXQoJ3Nob3J0QnJlYWtUaW1lJywgZS50YXJnZXQudmFsdWUpKTsNCiAgICAgICAgZWwoJ2xvbmdCcmVha1RpbWUnKS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4gdXBkYXRlVGltZUZyb21JbnB1dCgnbG9uZ0JyZWFrVGltZScsIGUudGFyZ2V0LnZhbHVlKSk7DQogICAgICAgIGVsKCdwb21vZG9yb3NCZWZvcmVMb25nQnJlYWsnKS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4gew0KICAgICAgICAgICAgcG9tb2Rvcm9zQmVmb3JlTG9uZ0JyZWFrID0gcGFyc2VJbnQoZS50YXJnZXQudmFsdWUsIDEwKTsNCiAgICAgICAgICAgIHNhdmVTZXR0aW5ncygpOw0KICAgICAgICB9KTsNCiAgICAgICAgZWwoJ2F1dG9TdGFydEJyZWFrcycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChlKSA9PiB7DQogICAgICAgICAgICBhdXRvU3RhcnRCcmVha3MgPSBlLnRhcmdldC5jaGVja2VkOw0KICAgICAgICAgICAgc2F2ZVNldHRpbmdzKCk7DQogICAgICAgIH0pOw0KICAgICAgICBlbCgncG9tb2Rvcm9Tb3VuZCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChlKSA9PiB7DQogICAgICAgICAgICBub3RpZmljYXRpb25Tb3VuZHMucG9tb2Rvcm8gPSBlLnRhcmdldC52YWx1ZTsNCiAgICAgICAgICAgIHNhdmVTZXR0aW5ncygpOw0KICAgICAgICB9KTsNCiAgICAgICAgZWwoJ3Nob3J0QnJlYWtTb3VuZCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChlKSA9PiB7DQogICAgICAgICAgICBub3RpZmljYXRpb25Tb3VuZHMuc2hvcnRCcmVhayA9IGUudGFyZ2V0LnZhbHVlOw0KICAgICAgICAgICAgc2F2ZVNldHRpbmdzKCk7DQogICAgICAgIH0pOw0KICAgICAgICBlbCgnbG9uZ0JyZWFrU291bmQnKS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4gew0KICAgICAgICAgICAgbm90aWZpY2F0aW9uU291bmRzLmxvbmdCcmVhayA9IGUudGFyZ2V0LnZhbHVlOw0KICAgICAgICAgICAgc2F2ZVNldHRpbmdzKCk7DQogICAgICAgIH0pOw0KICAgICAgICBlbCgnbXV0ZVNvdW5kcycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChlKSA9PiB7DQogICAgICAgICAgICBtdXRlU291bmRzID0gZS50YXJnZXQuY2hlY2tlZDsNCiAgICAgICAgICAgIHNhdmVTZXR0aW5ncygpOw0KICAgICAgICB9KTsNCiAgICAgICAgZWwoJ3lvdXR1YmVVcmwnKS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB1cGRhdGVZb3VUdWJlVmlkZW8pOw0KDQogICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHsNCiAgICAgICAgICAgIGlmIChldmVudC50YXJnZXQudGFnTmFtZSAhPT0gJ0lOUFVUJyAmJiBldmVudC50YXJnZXQudGFnTmFtZSAhPT0gJ1NFTEVDVCcgJiYgZXZlbnQudGFyZ2V0LnRhZ05hbWUgIT09ICdURVhUQVJFQScpIHsNCiAgICAgICAgICAgICAgICBzd2l0Y2ggKGV2ZW50LmNvZGUpIHsNCiAgICAgICAgICAgICAgICAgICAgY2FzZSAnU3BhY2UnOg0KICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lcigpOw0KICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsgLy8gUHJldmVudCBwYWdlIHNjcm9sbGluZw0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgIGNhc2UgJ0tleVInOg0KICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRUaW1lcigpOw0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgIGNhc2UgJ0RpZ2l0MSc6DQogICAgICAgICAgICAgICAgICAgICAgICBzZXRNb2RlKCdwb21vZG9ybycpOw0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgIGNhc2UgJ0RpZ2l0Mic6DQogICAgICAgICAgICAgICAgICAgICAgICBzZXRNb2RlKCdzaG9ydEJyZWFrJyk7DQogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgY2FzZSAnRGlnaXQzJzoNCiAgICAgICAgICAgICAgICAgICAgICAgIHNldE1vZGUoJ2xvbmdCcmVhaycpOw0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCg0KICAgICAgICAvLyAtLS0gVGhlbWUgVG9nZ2xlIC0tLQ0KICAgICAgICBjb25zdCB0b2dnbGVUaGVtZSA9ICgpID0+IHsNCiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgnZGFyay1tb2RlJyk7DQogICAgICAgICAgICBjb25zdCBpY29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRoZW1lLXRvZ2dsZSBpJyk7DQogICAgICAgICAgICBpY29uLmNsYXNzTGlzdC50b2dnbGUoJ2ZhLW1vb24nKTsNCiAgICAgICAgICAgIGljb24uY2xhc3NMaXN0LnRvZ2dsZSgnZmEtc3VuJyk7DQogICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndGhlbWUnLCBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5jb250YWlucygnZGFyay1tb2RlJykgPyAnZGFyaycgOiAnbGlnaHQnKTsNCiAgICAgICAgfTsNCg0KICAgICAgICAvLyAtLS0gS2V5Ym9hcmQgU2hvcnRjdXRzIFRvZ2dsZSAtLS0NCiAgICAgICAgY29uc3QgdG9nZ2xlS2V5Ym9hcmRTaG9ydGN1dHMgPSAoKSA9PiB7DQogICAgICAgICAgICBrZXlib2FyZFNob3J0Y3V0c0Rpdi5jbGFzc0xpc3QudG9nZ2xlKCdoaWRlJyk7DQogICAgICAgIH07DQoNCiAgICAgICAgLy8gLS0tIEluaXRpYWxpemF0aW9uIC0tLQ0KICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4gew0KICAgICAgICAgICAgbG9hZFNldHRpbmdzKCk7DQogICAgICAgICAgICB1cGRhdGVDb2xvcihjdXJyZW50TW9kZSk7DQogICAgICAgICAgICBzZXRNb2RlKCdwb21vZG9ybycpOw0KICAgICAgICAgICAgdXBkYXRlRGlzcGxheSgpOw0KICAgICAgICAgICAgY29uc3Qgc2F2ZWRUaGVtZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0aGVtZScpOw0KICAgICAgICAgICAgaWYgKHNhdmVkVGhlbWUgPT09ICdkYXJrJykgew0KICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnZGFyay1tb2RlJyk7DQogICAgICAgICAgICAgICAgY29uc3QgaWNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50aGVtZS10b2dnbGUgaScpOw0KICAgICAgICAgICAgICAgIGljb24uY2xhc3NMaXN0LnJlbW92ZSgnZmEtbW9vbicpOw0KICAgICAgICAgICAgICAgIGljb24uY2xhc3NMaXN0LmFkZCgnZmEtc3VuJyk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICAgIC8vIFNvbGljaXRhciBwZXJtaXNzw6NvIHBhcmEgbm90aWZpY2HDp8O1ZXMNCiAgICAgICAgICAgIGlmICgnTm90aWZpY2F0aW9uJyBpbiB3aW5kb3cpIHsNCiAgICAgICAgICAgICAgICBOb3RpZmljYXRpb24ucmVxdWVzdFBlcm1pc3Npb24oKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzdG9yYWdlJywgKGV2ZW50KSA9PiB7DQogICAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSAncG9tb2Rvcm9TZXR0aW5ncycpIGxvYWRTZXR0aW5ncygpOw0KICAgICAgICB9KTsNCiAgICA8L3NjcmlwdD4NCjwvYm9keT4NCg0KPC9odG1sPg==";

    // Função para decodificar base64
    function decodeBase64(str) {
        try {
             return decodeURIComponent(atob(str).split('').map(function(c) {
            return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
        }).join(''));
        } catch (e) {
            console.error("Erro ao decodificar Base64:", e);
             return "";
        }
       
    }

    // Decodifica o conteúdo
    const pomodoroAppHTML = decodeBase64(pomodoroAppBase64);

    // Inicializa a visualização com o conteúdo da aplicação
     liveFrame.srcdoc = pomodoroAppHTML;

</script>