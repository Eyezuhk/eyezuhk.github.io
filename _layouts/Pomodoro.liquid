---
layout: default
---

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<style>
    html, body {
        max-width: none;
        margin: 0;
        padding: 0;
        height: 100%;
        overflow-x: hidden;
        overflow-y: auto;
        overscroll-behavior: none
    }
    
     #liveFrame {
        display: block;
        width: 100vw;
        height: 100vh;
        border: none;
		overflow: hidden;
		position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        z-index: 1000;
    }
	 .container, .wrapper{
		margin: 0 !important;
		padding: 0 !important;
		max-width: none !important;
		width: 100% !important;
	 }

</style>
</head>

 <iframe id="liveFrame"></iframe>

<script>
    const liveFrame = document.getElementById('liveFrame');

    // HTML da aplicação em Base64
    const pomodoroAppBase64 = "PCFET0NUWVBFIGh0bWw+DQo8aHRtbCBsYW5nPSJlbiI+DQoNCjxoZWFkPg0KICAgIDxtZXRhIGNoYXJzZXQ9IlVURi04Ij4NCiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCI+DQogICAgPHRpdGxlPkZuIFBvbW9kb3JvIFRpbWVyPC90aXRsZT4NCiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2ZvbnQtYXdlc29tZS82LjAuMC9jc3MvYWxsLm1pbi5jc3MiPg0KICAgIDxzdHlsZT4NCiAgICAgICAgOnJvb3Qgew0KICAgICAgICAgICAgLS1wcmltYXJ5LWNvbG9yOiAjZmY2YjZiOw0KICAgICAgICAgICAgLS1zaG9ydGJyZWFrLWNvbG9yOiAjNGRhYmY3Ow0KICAgICAgICAgICAgLS1sb25nYnJlYWstY29sb3I6ICM0MGMwNTc7DQogICAgICAgICAgICAtLWJnLWNvbG9yOiAjZmZmZmZmOw0KICAgICAgICAgICAgLS10ZXh0LWNvbG9yOiAjMzMzMzMzOw0KICAgICAgICAgICAgLS1vdmVybGF5LWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOCk7DQogICAgICAgICAgICAtLWJ1dHRvbi13aWR0aDogMTIwcHg7DQogICAgICAgICAgICAtLWJ1dHRvbi1oZWlnaHQ6IDQwcHg7DQogICAgICAgICAgICAtLWZvbnQtZmFtaWx5OiBzeXN0ZW0tdWksIC1hcHBsZS1zeXN0ZW0sIHNhbnMtc2VyaWY7DQogICAgICAgICAgICAtLWJvcmRlci1yYWRpdXM6IDEycHg7DQogICAgICAgICAgICAtLXRyYW5zaXRpb24tc3BlZWQ6IDAuM3M7DQogICAgICAgIH0NCg0KICAgICAgICAuZGFyay1tb2RlIHsNCiAgICAgICAgICAgIC0tYmctY29sb3I6ICMwZDExMTc7DQogICAgICAgICAgICAtLXRleHQtY29sb3I6ICNmZmZmZmY7DQogICAgICAgICAgICAtLW92ZXJsYXktY29sb3I6IHJnYmEoMCwgMCwgMCwgMC42KTsNCiAgICAgICAgfQ0KDQogICAgICAgICogew0KICAgICAgICAgICAgbWFyZ2luOiAwOw0KICAgICAgICAgICAgcGFkZGluZzogMDsNCiAgICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7DQogICAgICAgIH0NCg0KICAgICAgICBib2R5IHsNCiAgICAgICAgICAgIGZvbnQtZmFtaWx5OiB2YXIoLS1mb250LWZhbWlseSk7DQogICAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1jb2xvcik7DQogICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgdmFyKC0tdHJhbnNpdGlvbi1zcGVlZCkgZWFzZTsNCiAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDEwMHZoOw0KICAgICAgICAgICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjsNCiAgICAgICAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjsNCiAgICAgICAgICAgIGJhY2tncm91bmQtYXR0YWNobWVudDogZml4ZWQ7DQogICAgICAgICAgICBsaW5lLWhlaWdodDogMS41Ow0KICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYmctY29sb3IpOw0KCQkJbWFyZ2luLXRvcDogNTBweDsNCgkJCW1hcmdpbi1ib3R0b206IDUwcHg7DQogICAgICAgIH0NCg0KICAgICAgICAuY29udGFpbmVyIHsNCiAgICAgICAgICAgIG1heC13aWR0aDogMTAwMHB4Ow0KCQkJbWluLXdpZHRoOiA0MDBweDsNCiAgICAgICAgICAgIG1hcmdpbjogMCBhdXRvOw0KICAgICAgICB9DQoNCiAgICAgICAgLnRpbWVyLWNvbnRhaW5lciB7DQogICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgICAgICAgICBwYWRkaW5nOiAycmVtOw0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogdmFyKC0tYm9yZGVyLXJhZGl1cyk7DQogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMDUpOw0KICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMnJlbTsNCiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgNHB4IDZweCAtMXB4IHJnYmEoMCwgMCwgMCwgMC4xKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC50aW1lci1kaXNwbGF5IHsNCiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgICAgICAgICAgIHdpZHRoOiAzMDBweDsNCiAgICAgICAgICAgIGhlaWdodDogMzAwcHg7DQogICAgICAgICAgICBtYXJnaW46IDJyZW0gYXV0bzsNCiAgICAgICAgfQ0KDQogICAgICAgIC5wcm9ncmVzcy1yaW5nIHsNCiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICAgICAgICAgIHRvcDogMDsNCiAgICAgICAgICAgIGxlZnQ6IDA7DQogICAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgtOTBkZWcpOw0KICAgICAgICB9DQoNCiAgICAgICAgLnByb2dyZXNzLXJpbmdfX2NpcmNsZSB7DQogICAgICAgICAgICB0cmFuc2l0aW9uOiBzdHJva2UtZGFzaG9mZnNldCB2YXIoLS10cmFuc2l0aW9uLXNwZWVkKTsNCiAgICAgICAgICAgIHN0cm9rZS1saW5lY2FwOiByb3VuZDsNCiAgICAgICAgfQ0KDQogICAgICAgIC5wcm9ncmVzcy1yaW5nX19jaXJjbGUtYmcgew0KICAgICAgICAgICAgb3BhY2l0eTogMC4yOw0KICAgICAgICB9DQoNCiAgICAgICAgLnRpbWUgew0KICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgICAgICAgICAgdG9wOiA1MCU7DQogICAgICAgICAgICBsZWZ0OiA1MCU7DQogICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTsNCiAgICAgICAgICAgIGZvbnQtc2l6ZTogNHJlbTsNCiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOw0KICAgICAgICAgICAgZm9udC12YXJpYW50LW51bWVyaWM6IHRhYnVsYXItbnVtczsNCiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOw0KICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICAgICAgfQ0KDQogICAgICAgIC5wb21vLWNvdW50ZXIgew0KICAgICAgICAgICAgZm9udC1zaXplOiAxLjFyZW07DQogICAgICAgICAgICBtYXJnaW4tdG9wOiAwLjVyZW07DQogICAgICAgICAgICBjb2xvcjogdmFyKC0tcHJpbWFyeS1jb2xvcik7DQoNCiAgICAgICAgfQ0KDQogICAgICAgIC5tb2RlLWJ1dHRvbnMgew0KICAgICAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOw0KICAgICAgICAgICAgZ2FwOiAxcmVtOw0KICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMXJlbTsNCiAgICAgICAgfQ0KDQogICAgICAgIGJ1dHRvbiB7DQogICAgICAgICAgICB3aWR0aDogdmFyKC0tYnV0dG9uLXdpZHRoKTsNCiAgICAgICAgICAgIGhlaWdodDogdmFyKC0tYnV0dG9uLWhlaWdodCk7DQogICAgICAgICAgICBib3JkZXI6IG5vbmU7DQogICAgICAgICAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1ib3JkZXItcmFkaXVzKTsNCiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTsNCiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsNCiAgICAgICAgICAgIHRyYW5zaXRpb246IGFsbCB2YXIoLS10cmFuc2l0aW9uLXNwZWVkKTsNCiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC44NzVyZW07DQogICAgICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOw0KICAgICAgICAgICAgZ2FwOiAwLjVyZW07DQogICAgICAgICAgICB0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZTsNCiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7DQogICAgICAgICAgICBwYWRkaW5nOiAwIDFyZW07DQogICAgICAgIH0NCg0KICAgICAgICBidXR0b24ucG9tb2Rvcm8gew0KICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tcHJpbWFyeS1jb2xvcik7DQogICAgICAgIH0NCg0KICAgICAgICBidXR0b24uc2hvcnRCcmVhayB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1zaG9ydGJyZWFrLWNvbG9yKTsNCiAgICAgICAgfQ0KDQogICAgICAgIGJ1dHRvbi5sb25nQnJlYWsgew0KICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbG9uZ2JyZWFrLWNvbG9yKTsNCiAgICAgICAgfQ0KDQogICAgICAgIGJ1dHRvbjpob3ZlciB7DQogICAgICAgICAgICBvcGFjaXR5OiAwLjk7DQogICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTFweCk7DQogICAgICAgIH0NCg0KICAgICAgICBidXR0b246YWN0aXZlIHsNCiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5jb250cm9scyB7DQogICAgICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7DQogICAgICAgICAgICBnYXA6IDFyZW07DQogICAgICAgICAgICBtYXJnaW46IDJyZW0gMDsNCiAgICAgICAgICAgIGZsZXgtd3JhcDogd3JhcDsNCiAgICAgICAgfQ0KDQogICAgICAgIC5wYW5lbCB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMDUpOw0KICAgICAgICAgICAgcGFkZGluZzogMS41cmVtOw0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogdmFyKC0tYm9yZGVyLXJhZGl1cyk7DQogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAycmVtOw0KICAgICAgICAgICAgYm94LXNoYWRvdzogMCA0cHggNnB4IC0xcHggcmdiYSgwLCAwLCAwLCAwLjEpOw0KICAgICAgICB9DQoNCiAgICAgICAgLnN0YXRzLWdyaWQgew0KICAgICAgICAgICAgZGlzcGxheTogZ3JpZDsNCiAgICAgICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoMjAwcHgsIDFmcikpOw0KICAgICAgICAgICAgZ2FwOiAxLjVyZW07DQogICAgICAgICAgICBtYXJnaW4tdG9wOiAxcmVtOw0KICAgICAgICB9DQoNCiAgICAgICAgLnN0YXQtY2FyZCB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMDUpOw0KICAgICAgICAgICAgcGFkZGluZzogMS41cmVtOw0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogdmFyKC0tYm9yZGVyLXJhZGl1cyk7DQogICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgICAgICAgICBib3gtc2hhZG93OiAwIDJweCA0cHggcmdiYSgwLCAwLCAwLCAwLjA1KTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5zdGF0LXZhbHVlIHsNCiAgICAgICAgICAgIGZvbnQtc2l6ZTogMnJlbTsNCiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOw0KICAgICAgICAgICAgY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpOw0KICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMC41cmVtOw0KICAgICAgICB9DQoNCiAgICAgICAgLnNldHRpbmdzLWdyb3VwIHsNCiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDJyZW07DQogICAgICAgIH0NCg0KICAgICAgICAuc2V0dGluZ3MtZ3JvdXAgaDMgew0KICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMXJlbTsNCiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5LWNvbG9yKTsNCiAgICAgICAgICAgIGZvbnQtc2l6ZTogMS4yNXJlbTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5zZXR0aW5nLWlucHV0LWdyb3VwIHsNCiAgICAgICAgICAgIGRpc3BsYXk6IGdyaWQ7DQogICAgICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IGF1dG8gMWZyIGF1dG87DQogICAgICAgICAgICBnYXA6IDFyZW07DQogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxcmVtOw0KICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICAgICAgfQ0KCQkNCgkJLnNldHRpbmctaW5wdXQtZ3JvdXAgc2VsZWN0OmZvY3VzIHsNCgkJCW91dGxpbmU6IG5vbmU7DQoJCQlib3JkZXItY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpOw0KCQl9DQoNCgkJLnNldHRpbmctaW5wdXQtZ3JvdXAgc2VsZWN0IG9wdGlvbiB7DQoJCWJhY2tncm91bmQtY29sb3I6IHZhcigtLWJnLWNvbG9yKTsNCgkJY29sb3I6IHZhcigtLXRleHQtY29sb3IpOw0KCQl9DQoNCiAgICAgICAgLnNldHRpbmctaW5wdXQtZ3JvdXAgbGFiZWwgew0KICAgICAgICAgICAgZ3JpZC1jb2x1bW46IDE7DQogICAgICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0Ow0KICAgICAgICB9DQoNCiAgICAgICAgLnNldHRpbmctaW5wdXQtZ3JvdXA+KjpudGgtY2hpbGQoMikgew0KICAgICAgICAgICAgZ3JpZC1jb2x1bW46IDI7DQogICAgICAgIH0NCg0KICAgICAgICAuc2V0dGluZy1pbnB1dC1ncm91cD4qOm50aC1jaGlsZCgzKSB7DQogICAgICAgICAgICBncmlkLWNvbHVtbjogMzsNCiAgICAgICAgICAgIGp1c3RpZnktc2VsZjogc3RhcnQ7DQogICAgICAgIH0NCg0KICAgICAgICBpbnB1dFt0eXBlPSJudW1iZXIiXSwNCiAgICAgICAgaW5wdXRbdHlwZT0idGV4dCJdLA0KICAgICAgICBzZWxlY3Qgew0KICAgICAgICAgICAgcGFkZGluZzogMC41cmVtIDFyZW07DQogICAgICAgICAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1ib3JkZXItcmFkaXVzKTsNCiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMTU2LCAxNjMsIDE3NSwgMC4yKTsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4wNSk7DQogICAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1jb2xvcik7DQogICAgICAgICAgICB3aWR0aDogMTAwJTsNCiAgICAgICAgICAgIHRyYW5zaXRpb246IGJvcmRlci1jb2xvciB2YXIoLS10cmFuc2l0aW9uLXNwZWVkKTsNCiAgICAgICAgfQ0KDQogICAgICAgIGlucHV0W3R5cGU9Im51bWJlciJdOmZvY3VzLA0KICAgICAgICBpbnB1dFt0eXBlPSJ0ZXh0Il06Zm9jdXMsDQogICAgICAgIHNlbGVjdDpmb2N1cyB7DQogICAgICAgICAgICBvdXRsaW5lOiBub25lOw0KICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1wcmltYXJ5LWNvbG9yKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC50YXNrLWlucHV0LWNvbnRhaW5lciB7DQogICAgICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICAgICAgZ2FwOiAxcmVtOw0KICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMS41cmVtOw0KICAgICAgICB9DQoNCiAgICAgICAgLnRhc2staXRlbSB7DQogICAgICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOw0KICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICAgICAgICAgIHBhZGRpbmc6IDFyZW07DQogICAgICAgICAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1ib3JkZXItcmFkaXVzKTsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4wNSk7DQogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAwLjVyZW07DQogICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgdmFyKC0tdHJhbnNpdGlvbi1zcGVlZCk7DQogICAgICAgICAgICAgY3Vyc29yOiBncmFiOw0KICAgICAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7DQogICAgICAgIH0NCg0KICAgICAgICAudGFzay1pdGVtOmhvdmVyIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKTsNCiAgICAgICAgfQ0KCQkNCgkJLnRhc2staXRlbS5kcmFnZ2luZyB7DQogICAgICAgICAgICBvcGFjaXR5OiAwLjU7DQogICAgICAgIH0NCg0KICAgICAgICAudGFzay1pdGVtLmNvbXBsZXRlZCB7DQogICAgICAgICAgICBvcGFjaXR5OiAwLjc7DQogICAgICAgIH0NCg0KICAgICAgICAudGFzay1pdGVtLmNvbXBsZXRlZCBzcGFuIHsNCiAgICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogbGluZS10aHJvdWdoOw0KICAgICAgICB9DQoNCiAgICAgICAgLm5vdGlmaWNhdGlvbiB7DQogICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7DQogICAgICAgICAgICB0b3A6IDIwcHg7DQogICAgICAgICAgICByaWdodDogMjBweDsNCiAgICAgICAgICAgIHBhZGRpbmc6IDFyZW0gMS41cmVtOw0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogdmFyKC0tYm9yZGVyLXJhZGl1cyk7DQogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1wcmltYXJ5LWNvbG9yKTsNCiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTsNCiAgICAgICAgICAgIG9wYWNpdHk6IDA7DQogICAgICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IHZhcigtLXRyYW5zaXRpb24tc3BlZWQpOw0KICAgICAgICAgICAgei1pbmRleDogMTAwMDsNCiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgNHB4IDZweCAtMXB4IHJnYmEoMCwgMCwgMCwgMC4xKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5ub3RpZmljYXRpb24uc2hvdyB7DQogICAgICAgICAgICBvcGFjaXR5OiAxOw0KICAgICAgICB9DQoNCiAgICAgICAgLmtleWJvYXJkLXNob3J0Y3V0cyB7DQogICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7DQogICAgICAgICAgICBib3R0b206IDIwcHg7DQogICAgICAgICAgICByaWdodDogMjBweDsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLW92ZXJsYXktY29sb3IpOw0KICAgICAgICAgICAgcGFkZGluZzogMXJlbSAxLjVyZW07DQogICAgICAgICAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1ib3JkZXItcmFkaXVzKTsNCiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC44NzVyZW07DQogICAgICAgICAgICB6LWluZGV4OiAxMDAwOw0KICAgICAgICAgICAgYm94LXNoYWRvdzogMCA0cHggNnB4IC0xcHggcmdiYSgwLCAwLCAwLCAwLjEpOw0KICAgICAgICB9DQoNCiAgICAgICAgLnRoZW1lLXRvZ2dsZSB7DQogICAgICAgICAgICB3aWR0aDogNDBweDsNCiAgICAgICAgICAgIGhlaWdodDogNDBweDsNCiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTsNCiAgICAgICAgICAgIG1hcmdpbjogMC43cmVtOw0KICAgICAgICAgICAgYmFja2dyb3VuZDogI2ZmNmI2YjsNCiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7DQogICAgICAgICAgICBjb2xvcjogI2ZmZmZmZjsNCiAgICAgICAgICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgdmFyKC0tdHJhbnNpdGlvbi1zcGVlZCk7DQogICAgICAgIH0NCg0KICAgICAgICAudGhlbWUtdG9nZ2xlOmhvdmVyIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC41KTsNCiAgICAgICAgfQ0KDQogICAgICAgIEBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkgew0KICAgICAgICAgICAgLmNvbnRhaW5lciB7DQogICAgICAgICAgICAgICAgcGFkZGluZzogMXJlbTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLnRpbWVyLWRpc3BsYXkgew0KICAgICAgICAgICAgICAgIHdpZHRoOiAzMDBweDsNCiAgICAgICAgICAgICAgICBoZWlnaHQ6IDMwMHB4Ow0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAudGltZSB7DQogICAgICAgICAgICAgICAgZm9udC1zaXplOiAzcmVtOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAua2V5Ym9hcmQtc2hvcnRjdXRzIHsNCiAgICAgICAgICAgICAgICBkaXNwbGF5OiBub25lOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAuc3RhdHMtZ3JpZCB7DQogICAgICAgICAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnI7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC5zZXR0aW5nLWlucHV0LWdyb3VwIHsNCiAgICAgICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOw0KICAgICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBzdHJldGNoOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpbnB1dFt0eXBlPSJudW1iZXIiXSwNCiAgICAgICAgICAgIGlucHV0W3R5cGU9InRleHQiXSwNCiAgICAgICAgICAgIHNlbGVjdCB7DQogICAgICAgICAgICAgICAgbWF4LXdpZHRoOiAxMDAlOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgLnRhc2stYWN0aW9ucyB7DQogICAgICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICAgICAgZ2FwOiAwLjVyZW07DQogICAgICAgIH0NCg0KICAgICAgICAudGFzay1hY3Rpb25zIGJ1dHRvbiB7DQogICAgICAgICAgICB3aWR0aDogYXV0bzsNCiAgICAgICAgICAgIGhlaWdodDogYXV0bzsNCiAgICAgICAgICAgIHBhZGRpbmc6IDAuNXJlbTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5wb21vZG9yby1jb3VudCB7DQogICAgICAgICAgICBmb250LXNpemU6IDAuODc1cmVtOw0KICAgICAgICAgICAgY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpOw0KICAgICAgICB9DQoNCiAgICAgICAgLnRhc2stc2VsZWN0aW9uLWNvbnRhaW5lciB7DQogICAgICAgICAgICBtYXJnaW46IDEuNXJlbSAwOw0KICAgICAgICB9DQoNCiAgICAgICAgc2VsZWN0I3Rhc2tTZWxlY3Qgew0KICAgICAgICAgICAgbWFyZ2luOiAwIGF1dG87DQogICAgICAgICAgICBkaXNwbGF5OiBibG9jazsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJnLWNvbG9yKTsNCiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LWNvbG9yKTsNCiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMTU2LCAxNjMsIDE3NSwgMC4yKTsNCiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLWJvcmRlci1yYWRpdXMpOw0KICAgICAgICAgICAgcGFkZGluZzogMC41cmVtOw0KICAgICAgICB9DQoNCiAgICAgICAgc2VsZWN0I3Rhc2tTZWxlY3Qgb3B0aW9uIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJnLWNvbG9yKTsNCiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LWNvbG9yKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC55b3V0dWJlLWNvbnRhaW5lciB7DQogICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7DQogICAgICAgICAgICB3aWR0aDogMTAwJTsNCiAgICAgICAgICAgIHBhZGRpbmctYm90dG9tOiA1Ni4yNSU7DQogICAgICAgICAgICBtYXJnaW4tdG9wOiAycmVtOw0KICAgICAgICB9DQoNCiAgICAgICAgLnlvdXR1YmUtY29udGFpbmVyIGlmcmFtZSB7DQogICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgICAgICAgICB0b3A6IDA7DQogICAgICAgICAgICBsZWZ0OiAwOw0KICAgICAgICAgICAgd2lkdGg6IDEwMCU7DQogICAgICAgICAgICBoZWlnaHQ6IDEwMCU7DQogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4Ow0KICAgICAgICB9DQoNCiAgICAgICAgLmhpZGUgew0KICAgICAgICAgICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50Ow0KICAgICAgICB9DQoNCiAgICAgICAgLmFjdGl2ZSB7DQogICAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMDUpOw0KICAgICAgICAgICAgYm94LXNoYWRvdzogMCA0cHggMTJweCByZ2JhKDAsIDAsIDAsIDAuMSk7DQogICAgICAgIH0NCiAgICA8L3N0eWxlPg0KPC9oZWFkPg0KDQo8Ym9keT4NCiAgICA8ZGl2IGNsYXNzPSJjb250YWluZXIiPg0KICAgICAgICA8ZGl2IGNsYXNzPSJ0aW1lci1jb250YWluZXIiPg0KCQkgICAgPGJ1dHRvbiBjbGFzcz0idGhlbWUtdG9nZ2xlIiBvbmNsaWNrPSJ0b2dnbGVUaGVtZSgpIiB0aXRsZT0iVG9nZ2xlIHRoZW1lIj4NCgkJCQk8aSBjbGFzcz0iZmFzIGZhLW1vb24iPjwvaT4NCgkJCTwvYnV0dG9uPg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kZS1idXR0b25zIj4NCiAgICAgICAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9InNldE1vZGUoJ3BvbW9kb3JvJykiIGRhdGEtbW9kZT0icG9tb2Rvcm8iIGNsYXNzPSJwb21vZG9ybyBhY3RpdmUiDQogICAgICAgICAgICAgICAgICAgIHRpdGxlPSJTdGFydCBQb21vZG9ybyI+DQogICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtY2xvY2siPjwvaT4gUG9tb2Rvcm8NCiAgICAgICAgICAgICAgICA8L2J1dHRvbj4NCiAgICAgICAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9InNldE1vZGUoJ3Nob3J0QnJlYWsnKSIgZGF0YS1tb2RlPSJzaG9ydEJyZWFrIiBjbGFzcz0ic2hvcnRCcmVhayINCiAgICAgICAgICAgICAgICAgICAgdGl0bGU9IlN0YXJ0IHNob3J0IGJyZWFrIj4NCiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1jb2ZmZWUiPjwvaT4gU2hvcnQgQnJlYWsNCiAgICAgICAgICAgICAgICA8L2J1dHRvbj4NCiAgICAgICAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9InNldE1vZGUoJ2xvbmdCcmVhaycpIiBkYXRhLW1vZGU9ImxvbmdCcmVhayIgY2xhc3M9ImxvbmdCcmVhayINCiAgICAgICAgICAgICAgICAgICAgdGl0bGU9IlN0YXJ0IGxvbmcgYnJlYWsiPg0KICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLWNvdWNoIj48L2k+IExvbmcgQnJlYWsNCiAgICAgICAgICAgICAgICA8L2J1dHRvbj4NCiAgICAgICAgICAgIDwvZGl2Pg0KDQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0YXNrLXNlbGVjdGlvbi1jb250YWluZXIiPg0KICAgICAgICAgICAgICAgIDxzZWxlY3QgaWQ9InRhc2tTZWxlY3QiIGFyaWEtbGFiZWw9IlNlbGVjdCBjdXJyZW50IHRhc2siPg0KICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSIiPlNlbGVjdCBhIHRhc2s8L29wdGlvbj4NCiAgICAgICAgICAgICAgICA8L3NlbGVjdD4NCiAgICAgICAgICAgIDwvZGl2Pg0KDQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0aW1lci1kaXNwbGF5IiByb2xlPSJ0aW1lciI+DQogICAgICAgICAgICAgICAgPHN2ZyBjbGFzcz0icHJvZ3Jlc3MtcmluZyIgd2lkdGg9IjMwMCIgaGVpZ2h0PSIzMDAiPg0KICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGNsYXNzPSJwcm9ncmVzcy1yaW5nX19jaXJjbGUtYmciIHN0cm9rZT0iY3VycmVudENvbG9yIiBzdHJva2Utd2lkdGg9IjgiIGZpbGw9InRyYW5zcGFyZW50Ig0KICAgICAgICAgICAgICAgICAgICAgICAgcj0iMTQwIiBjeD0iMTUwIiBjeT0iMTUwIiAvPg0KICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGNsYXNzPSJwcm9ncmVzcy1yaW5nX19jaXJjbGUiIHN0cm9rZT0iY3VycmVudENvbG9yIiBzdHJva2Utd2lkdGg9IjgiIGZpbGw9InRyYW5zcGFyZW50Ig0KICAgICAgICAgICAgICAgICAgICAgICAgcj0iMTQwIiBjeD0iMTUwIiBjeT0iMTUwIiAvPg0KICAgICAgICAgICAgICAgIDwvc3ZnPg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InRpbWUiIGlkPSJ0aW1lIiBhcmlhLWxpdmU9InBvbGl0ZSI+DQogICAgICAgICAgICAgICAgICAgIDxzcGFuPjI1OjAwPC9zcGFuPg0KICAgICAgICAgICAgICAgICAgICA8c3Bhbj48L3NwYW4+DQogICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJwb21vLWNvdW50ZXIiIGlkPSJ0b3RhbFBvbW9kb3JvcyI+MDwvc3Bhbj4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDwvZGl2Pg0KDQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb250cm9scyI+DQogICAgICAgICAgICAgICAgPGJ1dHRvbiBvbmNsaWNrPSJzdGFydFRpbWVyKCkiIGlkPSJzdGFydEJ0biIgY2xhc3M9InBvbW9kb3JvIiB0aXRsZT0iU3RhcnQvUGF1c2UgdGltZXIiPg0KICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXBsYXkiPjwvaT4gU3RhcnQNCiAgICAgICAgICAgICAgICA8L2J1dHRvbj4NCiAgICAgICAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9InJlc2V0VGltZXIoKSIgY2xhc3M9InBvbW9kb3JvIiB0aXRsZT0iUmVzZXQgdGltZXIiPg0KICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXJlZG8iPjwvaT4gUmVzZXQNCiAgICAgICAgICAgICAgICA8L2J1dHRvbj4NCiAgICAgICAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9InRvZ2dsZVNldHRpbmdzKCkiIGNsYXNzPSJwb21vZG9ybyIgdGl0bGU9IlRvZ2dsZSBzZXR0aW5ncyBwYW5lbCI+DQogICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtY29nIj48L2k+IFNldHRpbmdzDQogICAgICAgICAgICAgICAgPC9idXR0b24+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgPC9kaXY+DQoNCiAgICAgICAgPGRpdiBjbGFzcz0icGFuZWwiIGlkPSJ0YXNrTGlzdFBhbmVsIj4NCiAgICAgICAgICAgIDxoMz5UYXNrczwvaDM+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0YXNrLWlucHV0LWNvbnRhaW5lciI+DQogICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJ0YXNrSW5wdXQiIHBsYWNlaG9sZGVyPSJBZGQgYSBuZXcgdGFzayIgb25rZXlkb3duPSJoYW5kbGVUYXNrSW5wdXQoZXZlbnQpIj4NCiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJwb21vZG9ybyIgb25jbGljaz0iYWRkVGFzaygpIj5BZGQgVGFzazwvYnV0dG9uPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8ZGl2IGlkPSJ0YXNrTGlzdCI+PC9kaXY+DQogICAgICAgIDwvZGl2Pg0KDQogICAgICAgIDxkaXYgY2xhc3M9InBhbmVsIiBpZD0ic3RhdHNQYW5lbCI+DQogICAgICAgICAgICA8aDM+U3RhdGlzdGljczwvaDM+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0cy1ncmlkIj4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0LWNhcmQiPg0KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0LXZhbHVlIiBpZD0idG90YWxQb21vZG9yb3NTdGF0Ij4wPC9kaXY+DQogICAgICAgICAgICAgICAgICAgIDxkaXY+VG90YWwgUG9tb2Rvcm9zPC9kaXY+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RhdC1jYXJkIj4NCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RhdC12YWx1ZSIgaWQ9InRvdGFsVGltZSI+MGggMG08L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgPGRpdj5Gb2N1cyBUaW1lPC9kaXY+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RhdC1jYXJkIj4NCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RhdC12YWx1ZSIgaWQ9ImRhaWx5U3RyZWFrIj4wPC9kaXY+DQogICAgICAgICAgICAgICAgICAgIDxkaXY+RGFpbHkgU3RyZWFrPC9kaXY+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgPC9kaXY+DQoNCiAgICAgICAgPGRpdiBjbGFzcz0icGFuZWwiIGlkPSJzZXR0aW5nc1BhbmVsIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2V0dGluZ3MtZ3JvdXAiPg0KICAgICAgICAgICAgICAgIDxoMz5Zb3VUdWJlIE11c2ljPC9oMz4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzZXR0aW5nLWlucHV0LWdyb3VwIj4NCiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0ieW91dHViZVVybCI+WW91VHViZSBWaWRlbyBVUkw8L2xhYmVsPg0KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9InlvdXR1YmVVcmwiIHBsYWNlaG9sZGVyPSJFbnRlciBZb3VUdWJlIHZpZGVvIFVSTCINCiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPSJodHRwczovL3d3dy55b3V0dWJlLmNvbS93YXRjaD92PWpmS2ZQZnlKUmRrIj4NCiAgICAgICAgICAgICAgICAgICAgPGRpdj48L2Rpdj4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2V0dGluZ3MtZ3JvdXAiPg0KICAgICAgICAgICAgICAgIDxoMz5UaW1lciBTZXR0aW5nczwvaDM+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2V0dGluZy1pbnB1dC1ncm91cCI+DQogICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9InBvbW9kb3JvVGltZSI+UG9tb2Rvcm8gKG1pbnV0ZXMpPC9sYWJlbD4NCiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9Im51bWJlciIgaWQ9InBvbW9kb3JvVGltZSIgdmFsdWU9IjI1IiBtaW49IjAiIG1heD0iNjAwIj4NCiAgICAgICAgICAgICAgICAgICAgPGRpdj48L2Rpdj4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzZXR0aW5nLWlucHV0LWdyb3VwIj4NCiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0ic2hvcnRCcmVha1RpbWUiPlNob3J0IEJyZWFrIChtaW51dGVzKTwvbGFiZWw+DQogICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJudW1iZXIiIGlkPSJzaG9ydEJyZWFrVGltZSIgdmFsdWU9IjUiIG1pbj0iMCIgbWF4PSIzMDAiPg0KICAgICAgICAgICAgICAgICAgICA8ZGl2PjwvZGl2Pg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InNldHRpbmctaW5wdXQtZ3JvdXAiPg0KICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJsb25nQnJlYWtUaW1lIj5Mb25nIEJyZWFrIChtaW51dGVzKTwvbGFiZWw+DQogICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJudW1iZXIiIGlkPSJsb25nQnJlYWtUaW1lIiB2YWx1ZT0iMTUiIG1pbj0iMCIgbWF4PSI2MDAiPg0KICAgICAgICAgICAgICAgICAgICA8ZGl2PjwvZGl2Pg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InNldHRpbmctaW5wdXQtZ3JvdXAiPg0KICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJwb21vZG9yb3NCZWZvcmVMb25nQnJlYWsiPlBvbW9kb3JvcyBCZWZvcmUgTG9uZyBCcmVhazwvbGFiZWw+DQogICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJudW1iZXIiIGlkPSJwb21vZG9yb3NCZWZvcmVMb25nQnJlYWsiIHZhbHVlPSI0IiBtaW49IjEiIG1heD0iMTAiPg0KICAgICAgICAgICAgICAgICAgICA8ZGl2PjwvZGl2Pg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InNldHRpbmctaW5wdXQtZ3JvdXAiIHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyI+DQogICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9ImF1dG9TdGFydEJyZWFrcyI+QXV0byBTdGFydCBCcmVha3MvUG9tb3M8L2xhYmVsPg0KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJhdXRvU3RhcnRCcmVha3MiIGNoZWNrZWQ+DQogICAgICAgICAgICAgICAgICAgIDxkaXY+PC9kaXY+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2V0dGluZy1pbnB1dC1ncm91cCIgc3R5bGU9ImRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7Ij4NCiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0iYXV0b1N0YXJ0QnJlYWtzIj5LZXlib2FyZCBTaG9ydGN1dHM8L2xhYmVsPg0KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJwb21vZG9ybyIgb25jbGljaz0idG9nZ2xlS2V5Ym9hcmRTaG9ydGN1dHMoKSI+SGlkZS9TaG93PC9idXR0b24+DQogICAgICAgICAgICAgICAgICAgIDxkaXY+PC9kaXY+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8L2Rpdj4NCg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2V0dGluZ3MtZ3JvdXAiPg0KICAgICAgICAgICAgICAgIDxoMz5Ob3RpZmljYXRpb24gU291bmRzPC9oMz4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzZXR0aW5nLWlucHV0LWdyb3VwIj4NCiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0icG9tb2Rvcm9Tb3VuZCI+UG9tb2Rvcm8gRW5kIFNvdW5kPC9sYWJlbD4NCiAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD0icG9tb2Rvcm9Tb3VuZCI+DQoJCQkJCQk8b3B0aW9uIHZhbHVlPSJjaGltZSI+Q2hpbWU8L29wdGlvbj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9ImJlbGwiPkJlbGw8L29wdGlvbj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9ImRpbmciPkRpbmc8L29wdGlvbj4NCiAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+DQogICAgICAgICAgICAgICAgICAgIDxkaXY+PC9kaXY+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2V0dGluZy1pbnB1dC1ncm91cCI+DQogICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9InNob3J0QnJlYWtTb3VuZCI+U2hvcnQgQnJlYWsgRW5kIFNvdW5kPC9sYWJlbD4NCiAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD0ic2hvcnRCcmVha1NvdW5kIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9ImJlbGwiPkJlbGw8L29wdGlvbj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9ImNoaW1lIj5DaGltZTwvb3B0aW9uPg0KICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iZGluZyI+RGluZzwvb3B0aW9uPg0KICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD4NCiAgICAgICAgICAgICAgICAgICAgPGRpdj48L2Rpdj4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzZXR0aW5nLWlucHV0LWdyb3VwIj4NCiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0ibG9uZ0JyZWFrU291bmQiPkxvbmcgQnJlYWsgRW5kIFNvdW5kPC9sYWJlbD4NCiAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD0ibG9uZ0JyZWFrU291bmQiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iZGluZyI+RGluZzwvb3B0aW9uPg0KICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iYmVsbCI+QmVsbDwvb3B0aW9uPg0KICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iY2hpbWUiPkNoaW1lPC9vcHRpb24+DQogICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0Pg0KICAgICAgICAgICAgICAgICAgICA8ZGl2PjwvZGl2Pg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InNldHRpbmctaW5wdXQtZ3JvdXAiIHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyI+DQogICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9Im11dGVTb3VuZHMiPkRpc2FibGUgU291bmRzPC9sYWJlbD4NCiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0ibXV0ZVNvdW5kcyI+DQogICAgICAgICAgICAgICAgICAgIDxkaXY+PC9kaXY+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8L2Rpdj4NCg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2V0dGluZ3MtZ3JvdXAiPg0KICAgICAgICAgICAgICAgIDxoMz5CYWNrZ3JvdW5kPC9oMz4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzZXR0aW5nLWlucHV0LWdyb3VwIj4NCiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0iYmdVcmwiPkJhY2tncm91bmQgVVJMPC9sYWJlbD4NCiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJiZ1VybCIgcGxhY2Vob2xkZXI9IkVudGVyIGltYWdlIFVSTCI+DQogICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9InBvbW9kb3JvIiBvbmNsaWNrPSJ1cGRhdGVCYWNrZ3JvdW5kKCd1cmwnKSI+VXBkYXRlIFVSTDwvYnV0dG9uPg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InNldHRpbmctaW5wdXQtZ3JvdXAiPg0KICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJiZ0ZpbGUiPlVwbG9hZCBJbWFnZTwvbGFiZWw+DQogICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJmaWxlIiBpZD0iYmdGaWxlIiBhY2NlcHQ9ImltYWdlLyoiPg0KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJwb21vZG9ybyIgb25jbGljaz0idXBkYXRlQmFja2dyb3VuZCgnZmlsZScpIj5VcGRhdGUgRmlsZTwvYnV0dG9uPg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InNldHRpbmctaW5wdXQtZ3JvdXAiPg0KICAgICAgICAgICAgICAgICAgICA8ZGl2PjwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJwb21vZG9ybyIgb25jbGljaz0icmVtb3ZlQmFja2dyb3VuZCgpIj5SZW1vdmUgQmFja2dyb3VuZDwvYnV0dG9uPg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPC9kaXY+DQoNCiAgICAgICAgICAgIDxkaXYgY2xhc3M9InNldHRpbmdzLWdyb3VwIj4NCiAgICAgICAgICAgICAgICA8aDM+UmVzZXQgU2V0dGluZ3M8L2gzPg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InNldHRpbmctaW5wdXQtZ3JvdXAiPg0KICAgICAgICAgICAgICAgICAgICA8ZGl2PjwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJwb21vZG9ybyIgb25jbGljaz0icmVzZXRBbGxTZXR0aW5ncygpIiB0aXRsZT0iUmVzZXQgYWxsIHNldHRpbmdzIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtdW5kbyI+PC9pPiBSZXNldCBBbGwNCiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgPC9kaXY+DQogICAgICAgIDxkaXYgY2xhc3M9InlvdXR1YmUtY29udGFpbmVyIj4NCiAgICAgICAgICAgIDxkaXYgaWQ9InlvdXR1YmVQbGF5ZXIiPjwvZGl2Pg0KICAgICAgICA8L2Rpdj4NCiAgICA8L2Rpdj4NCg0KICAgIDxkaXYgY2xhc3M9Im5vdGlmaWNhdGlvbiIgaWQ9Im5vdGlmaWNhdGlvbiI+PC9kaXY+DQoNCiAgICA8ZGl2IGNsYXNzPSJrZXlib2FyZC1zaG9ydGN1dHMiIGlkPSJrZXlib2FyZFNob3J0Y3V0cyIgb25jbGljaz0idG9nZ2xlS2V5Ym9hcmRTaG9ydGN1dHMoKSI+DQogICAgICAgIDxzdHJvbmc+S2V5Ym9hcmQgU2hvcnRjdXRzOjwvc3Ryb25nPg0KICAgICAgICA8ZGl2PlNwYWNlIC0gU3RhcnQvUGF1c2U8L2Rpdj4NCiAgICAgICAgPGRpdj5SIC0gUmVzZXQgVGltZXI8L2Rpdj4NCiAgICAgICAgPGRpdj4xIC0gUG9tb2Rvcm88L2Rpdj4NCiAgICAgICAgPGRpdj4yIC0gU2hvcnQgQnJlYWs8L2Rpdj4NCiAgICAgICAgPGRpdj4zIC0gTG9uZyBCcmVhazwvZGl2Pg0KICAgICAgICA8ZGl2PkNsaWNrIGhlcmUgdG8gaGlkZTwvZGl2Pg0KICAgIDwvZGl2Pg0KDQogICAgPHNjcmlwdD4NCiAgICAgICAgLy8gLS0tIFV0aWxpdHkgRnVuY3Rpb25zIC0tLQ0KICAgICAgICBjb25zdCBlbCA9IGlkID0+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTsNCiAgICAgICAgY29uc3QgZm9ybWF0VGltZSA9IHNlY29uZHMgPT4gew0KICAgICAgICAgICAgaWYgKHNlY29uZHMgPCAzNjAwKSB7DQogICAgICAgICAgICAgICAgY29uc3QgbWlucyA9IE1hdGguZmxvb3Ioc2Vjb25kcyAvIDYwKTsNCiAgICAgICAgICAgICAgICBjb25zdCBzZWNzID0gc2Vjb25kcyAlIDYwOw0KICAgICAgICAgICAgICAgIHJldHVybiBgJHtTdHJpbmcobWlucykucGFkU3RhcnQoMiwgJzAnKX06JHtTdHJpbmcoc2VjcykucGFkU3RhcnQoMiwgJzAnKX1gOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBjb25zdCBob3VycyA9IE1hdGguZmxvb3Ioc2Vjb25kcyAvIDM2MDApOw0KICAgICAgICAgICAgICAgIGNvbnN0IG1pbnMgPSBNYXRoLmZsb29yKChzZWNvbmRzICUgMzYwMCkgLyA2MCk7DQogICAgICAgICAgICAgICAgcmV0dXJuIGAke2hvdXJzfWggJHttaW5zfW1gOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9Ow0KDQogICAgICAgIGNvbnN0IGNyZWF0ZUJlZXAgPSAoZnJlcXVlbmN5ID0gNDQwLCBkdXJhdGlvbiA9IDIwMDAsIHZvbHVtZSA9IDAuNSkgPT4gew0KICAgICAgICAgICAgY29uc3QgYXVkaW9Db250ZXh0ID0gbmV3ICh3aW5kb3cuQXVkaW9Db250ZXh0IHx8IHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQpKCk7DQogICAgICAgICAgICBjb25zdCBvc2NpbGxhdG9yID0gYXVkaW9Db250ZXh0LmNyZWF0ZU9zY2lsbGF0b3IoKTsNCiAgICAgICAgICAgIGNvbnN0IGdhaW5Ob2RlID0gYXVkaW9Db250ZXh0LmNyZWF0ZUdhaW4oKTsNCiAgICAgICAgICAgIG9zY2lsbGF0b3IuY29ubmVjdChnYWluTm9kZSk7DQogICAgICAgICAgICBnYWluTm9kZS5jb25uZWN0KGF1ZGlvQ29udGV4dC5kZXN0aW5hdGlvbik7DQogICAgICAgICAgICBvc2NpbGxhdG9yLmZyZXF1ZW5jeS52YWx1ZSA9IGZyZXF1ZW5jeTsNCiAgICAgICAgICAgIGdhaW5Ob2RlLmdhaW4udmFsdWUgPSB2b2x1bWU7DQogICAgICAgICAgICBvc2NpbGxhdG9yLnN0YXJ0KCk7DQogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgICAgICAgICBvc2NpbGxhdG9yLnN0b3AoKTsNCiAgICAgICAgICAgICAgICBhdWRpb0NvbnRleHQuY2xvc2UoKTsNCiAgICAgICAgICAgIH0sIGR1cmF0aW9uKTsNCiAgICAgICAgfTsNCg0KICAgICAgICBjb25zdCBzaG93Tm90aWZpY2F0aW9uID0gKG1lc3NhZ2UpID0+IHsNCiAgICAgICAgICAgIGNvbnN0IG5vdGlmaWNhdGlvbiA9IGVsKCdub3RpZmljYXRpb24nKTsNCiAgICAgICAgICAgIG5vdGlmaWNhdGlvbi50ZXh0Q29udGVudCA9IG1lc3NhZ2U7DQogICAgICAgICAgICBub3RpZmljYXRpb24uY2xhc3NMaXN0LmFkZCgnc2hvdycpOw0KICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBub3RpZmljYXRpb24uY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpLCAzMDAwKTsNCiAgICAgICAgfTsNCg0KICAgICAgICBjb25zdCBlc2NhcGVIdG1sID0gdGV4dCA9PiB7DQogICAgICAgICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsNCiAgICAgICAgICAgIGRpdi50ZXh0Q29udGVudCA9IHRleHQ7DQogICAgICAgICAgICByZXR1cm4gZGl2LmlubmVySFRNTDsNCiAgICAgICAgfTsNCg0KICAgICAgICAvLyAtLS0gQ29uc3RhbnRzIC0tLQ0KICAgICAgICBjb25zdCBERUZBVUxUX1RJTUVTID0geyBwb21vZG9ybzogMjUgKiA2MCwgc2hvcnRCcmVhazogNSAqIDYwLCBsb25nQnJlYWs6IDE1ICogNjAgfTsNCiAgICAgICAgY29uc3QgREVGQVVMVF9TT1VORFMgPSB7IHBvbW9kb3JvOiAnY2hpbWUnLCBzaG9ydEJyZWFrOiAnYmVsbCcsIGxvbmdCcmVhazogJ2RpbmcnIH07DQogICAgICAgIGNvbnN0IENJUkNMRV9SQURJVVMgPSAxNDA7DQogICAgICAgIGNvbnN0IENJUkNMRV9DSVJDVU1GRVJFTkNFID0gMiAqIE1hdGguUEkgKiBDSVJDTEVfUkFESVVTOw0KICAgICAgICBjb25zdCBERUZBVUxUX1lPVVRVQkVfVVJMID0gImh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL3dhdGNoP3Y9amZLZlBmeUpSZGsiOw0KICAgICAgICBjb25zdCBjb2xvcnMgPSB7DQogICAgICAgICAgICBwb21vZG9ybzogJyNmZjZiNmInLA0KICAgICAgICAgICAgc2hvcnRCcmVhazogJyM0ZGFiZjcnLA0KICAgICAgICAgICAgbG9uZ0JyZWFrOiAnIzQwYzA1NycNCiAgICAgICAgfTsNCg0KICAgICAgICAvLyAtLS0gU3RhdGUgVmFyaWFibGVzIC0tLQ0KICAgICAgICBsZXQgdGltZUxlZnQ7DQogICAgICAgIGxldCB0aW1lcklkOw0KICAgICAgICBsZXQgY3VycmVudE1vZGUgPSAncG9tb2Rvcm8nOw0KICAgICAgICBsZXQgdGFza3MgPSBbXTsNCiAgICAgICAgbGV0IHNlbGVjdGVkVGFza0luZGV4ID0gbnVsbDsNCiAgICAgICAgbGV0IGF1dG9TdGFydEJyZWFrcyA9IHRydWU7DQogICAgICAgIGxldCBwb21vZG9yb0NvdW50ID0gMDsNCiAgICAgICAgbGV0IHBvbW9kb3Jvc0JlZm9yZUxvbmdCcmVhayA9IDQ7DQogICAgICAgIGxldCBub3RpZmljYXRpb25Tb3VuZHMgPSB7IC4uLkRFRkFVTFRfU09VTkRTIH07DQogICAgICAgIGxldCBtdXRlU291bmRzID0gZmFsc2U7DQogICAgICAgIGxldCBzdGF0aXN0aWNzID0geyB0b3RhbFBvbW9kb3JvczogMCwgdG90YWxGb2N1c1RpbWU6IDAsIGRhaWx5U3RyZWFrOiAwLCBsYXN0Q29tcGxldGVkOiBudWxsIH07DQogICAgICAgIGxldCB0aW1lcyA9IHsgLi4uREVGQVVMVF9USU1FUyB9Ow0KICAgICAgICBsZXQgeW91dHViZVBsYXllcjsNCiAgICAgICAgbGV0IGRyYWdTdGFydEluZGV4Ow0KDQogICAgICAgIC8vIC0tLSBET00gRWxlbWVudHMgLS0tDQogICAgICAgIGNvbnN0IHRpbWVEaXNwbGF5ID0gZWwoJ3RpbWUnKS5xdWVyeVNlbGVjdG9yKCdzcGFuJyk7DQogICAgICAgIGNvbnN0IHBvbW9Db3VudGVyRGlzcGxheSA9IGVsKCd0aW1lJykucXVlcnlTZWxlY3RvcignLnBvbW8tY291bnRlcicpOw0KICAgICAgICBjb25zdCBzdGFydEJ0biA9IGVsKCdzdGFydEJ0bicpOw0KICAgICAgICBjb25zdCBtb2RlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tb2RlLWJ1dHRvbnMgYnV0dG9uJyk7DQogICAgICAgIGNvbnN0IHByb2dyZXNzQ2lyY2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2dyZXNzLXJpbmdfX2NpcmNsZScpOw0KICAgICAgICBjb25zdCBwcm9ncmVzc0NpcmNsZUJnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2dyZXNzLXJpbmdfX2NpcmNsZS1iZycpOw0KICAgICAgICBjb25zdCBrZXlib2FyZFNob3J0Y3V0c0RpdiA9IGVsKCdrZXlib2FyZFNob3J0Y3V0cycpOw0KICAgICAgICBwcm9ncmVzc0NpcmNsZS5zdHlsZS5zdHJva2VEYXNoYXJyYXkgPSBgJHtDSVJDTEVfQ0lSQ1VNRkVSRU5DRX0gJHtDSVJDTEVfQ0lSQ1VNRkVSRU5DRX1gOw0KICAgICAgICBwcm9ncmVzc0NpcmNsZUJnLnN0eWxlLnN0cm9rZURhc2hhcnJheSA9IGAke0NJUkNMRV9DSVJDVU1GRVJFTkNFfSAke0NJUkNMRV9DSVJDVU1GRVJFTkNFfWA7DQoNCiAgICAgICAgLy8gLS0tIFlvdVR1YmUgQVBJIC0tLQ0KICAgICAgICBmdW5jdGlvbiBvbllvdVR1YmVJZnJhbWVBUElSZWFkeSgpIHsNCiAgICAgICAgICAgIHlvdXR1YmVQbGF5ZXIgPSBuZXcgWVQuUGxheWVyKCd5b3V0dWJlUGxheWVyJywgew0KICAgICAgICAgICAgICAgIGhlaWdodDogJzM2MCcsDQogICAgICAgICAgICAgICAgd2lkdGg6ICc2NDAnLA0KICAgICAgICAgICAgICAgIHZpZGVvSWQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd5b3V0dWJlVmlkZW9JZCcpIHx8IGdldFZpZGVvSWQoREVGQVVMVF9ZT1VUVUJFX1VSTCksDQogICAgICAgICAgICAgICAgcGxheWVyVmFyczogeyAncGxheXNpbmxpbmUnOiAxIH0sDQogICAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgICAgICBjb25zdCB0YWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTsNCiAgICAgICAgdGFnLnNyYyA9ICJodHRwczovL3d3dy55b3V0dWJlLmNvbS9pZnJhbWVfYXBpIjsNCiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0YWcpOw0KDQogICAgICAgIGNvbnN0IGdldFZpZGVvSWQgPSAodXJsKSA9PiB7DQogICAgICAgICAgICBjb25zdCBtYXRjaCA9IHVybC5tYXRjaCgvKD86eW91dHVcLmJlXC98eW91dHViZVwuY29tXC8oPzplbWJlZFwvfHZcL3x3YXRjaFw/dj18IFNob3J0c1wvKSkoW2EtekEtWjAtOV8tXSspLyk7DQogICAgICAgICAgICByZXR1cm4gbWF0Y2ggPyBtYXRjaFsxXSA6IG51bGw7DQogICAgICAgIH07DQoNCiAgICAgICAgLy8gLS0tIExvY2FsIFN0b3JhZ2UgLS0tDQogICAgICAgIGNvbnN0IGxvYWRTZXR0aW5ncyA9ICgpID0+IHsNCiAgICAgICAgICAgIGNvbnN0IHNldHRpbmdzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncG9tb2Rvcm9TZXR0aW5ncycpIHx8ICd7fScpOw0KICAgICAgICAgICAgdGltZXMgPSBzZXR0aW5ncy50aW1lcyB8fCB7IC4uLkRFRkFVTFRfVElNRVMgfTsNCiAgICAgICAgICAgIHRhc2tzID0gc2V0dGluZ3MudGFza3MgfHwgW107DQogICAgICAgICAgICBzdGF0aXN0aWNzID0gc2V0dGluZ3Muc3RhdGlzdGljcyB8fCB7IHRvdGFsUG9tb2Rvcm9zOiAwLCB0b3RhbEZvY3VzVGltZTogMCwgZGFpbHlTdHJlYWs6IDAsIGxhc3RDb21wbGV0ZWQ6IG51bGwgfTsNCiAgICAgICAgICAgIGF1dG9TdGFydEJyZWFrcyA9IHNldHRpbmdzLmF1dG9TdGFydEJyZWFrcyA/PyB0cnVlOw0KICAgICAgICAgICAgcG9tb2Rvcm9zQmVmb3JlTG9uZ0JyZWFrID0gc2V0dGluZ3MucG9tb2Rvcm9zQmVmb3JlTG9uZ0JyZWFrID8/IDQ7DQogICAgICAgICAgICBub3RpZmljYXRpb25Tb3VuZHMgPSBzZXR0aW5ncy5ub3RpZmljYXRpb25Tb3VuZHMgfHwgeyAuLi5ERUZBVUxUX1NPVU5EUyB9Ow0KICAgICAgICAgICAgbXV0ZVNvdW5kcyA9IHNldHRpbmdzLm11dGVTb3VuZHMgPz8gZmFsc2U7DQogICAgICAgICAgICBzZWxlY3RlZFRhc2tJbmRleCA9IHNldHRpbmdzLnNlbGVjdGVkVGFza0luZGV4ID8/IG51bGw7DQogICAgICAgICAgICBjb25zdCBiZyA9IHNldHRpbmdzLmJhY2tncm91bmQ7DQogICAgICAgICAgICBpZiAoYmcpIGRvY3VtZW50LmJvZHkuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgnJHtiZ30nKWA7DQogICAgICAgICAgICBlbCgncG9tb2Rvcm9UaW1lJykudmFsdWUgPSB0aW1lcy5wb21vZG9ybyAvIDYwOw0KICAgICAgICAgICAgZWwoJ3Nob3J0QnJlYWtUaW1lJykudmFsdWUgPSB0aW1lcy5zaG9ydEJyZWFrIC8gNjA7DQogICAgICAgICAgICBlbCgnbG9uZ0JyZWFrVGltZScpLnZhbHVlID0gdGltZXMubG9uZ0JyZWFrIC8gNjA7DQogICAgICAgICAgICBlbCgncG9tb2Rvcm9zQmVmb3JlTG9uZ0JyZWFrJykudmFsdWUgPSBwb21vZG9yb3NCZWZvcmVMb25nQnJlYWs7DQogICAgICAgICAgICBlbCgnYXV0b1N0YXJ0QnJlYWtzJykuY2hlY2tlZCA9IGF1dG9TdGFydEJyZWFrczsNCiAgICAgICAgICAgIGVsKCdwb21vZG9yb1NvdW5kJykudmFsdWUgPSBub3RpZmljYXRpb25Tb3VuZHMucG9tb2Rvcm87DQogICAgICAgICAgICBlbCgnc2hvcnRCcmVha1NvdW5kJykudmFsdWUgPSBub3RpZmljYXRpb25Tb3VuZHMuc2hvcnRCcmVhazsNCiAgICAgICAgICAgIGVsKCdsb25nQnJlYWtTb3VuZCcpLnZhbHVlID0gbm90aWZpY2F0aW9uU291bmRzLmxvbmdCcmVhazsNCiAgICAgICAgICAgIGVsKCdtdXRlU291bmRzJykuY2hlY2tlZCA9IG11dGVTb3VuZHM7DQogICAgICAgICAgICBlbCgneW91dHViZVVybCcpLnZhbHVlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3lvdXR1YmVWaWRlb0lkJykgPyBgaHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj0ke2xvY2FsU3RvcmFnZS5nZXRJdGVtKCd5b3V0dWJlVmlkZW9JZCcpfWAgOiBERUZBVUxUX1lPVVRVQkVfVVJMOw0KICAgICAgICAgICAgdXBkYXRlVGFza0xpc3QoKTsNCiAgICAgICAgICAgIHVwZGF0ZVRhc2tTZWxlY3QoKTsNCiAgICAgICAgICAgIHVwZGF0ZVN0YXRpc3RpY3MoKTsNCiAgICAgICAgfTsNCiAgICAgICAgY29uc3Qgc2F2ZVNldHRpbmdzID0gKCkgPT4gew0KICAgICAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSB7DQogICAgICAgICAgICAgICAgdGltZXMsIHRhc2tzLCBzdGF0aXN0aWNzLCBhdXRvU3RhcnRCcmVha3MsIHBvbW9kb3Jvc0JlZm9yZUxvbmdCcmVhaywNCiAgICAgICAgICAgICAgICBub3RpZmljYXRpb25Tb3VuZHMsIG11dGVTb3VuZHMsIHNlbGVjdGVkVGFza0luZGV4LCBiYWNrZ3JvdW5kOiBkb2N1bWVudC5ib2R5LnN0eWxlLmJhY2tncm91bmRJbWFnZS5zbGljZSg1LCAtMikNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncG9tb2Rvcm9TZXR0aW5ncycsIEpTT04uc3RyaW5naWZ5KHNldHRpbmdzKSk7DQogICAgICAgIH07DQoJCQ0KCQlmdW5jdGlvbiB1cGRhdGVDb2xvcihtb2RlKSB7DQogICAgICAgICAgICBjb25zdCBjb2xvciA9IGNvbG9yc1ttb2RlXTsNCiAgICAgICAgICAgIHByb2dyZXNzQ2lyY2xlLnN0eWxlLnN0cm9rZSA9IGNvbG9yOw0KICAgICAgICAgICAgcHJvZ3Jlc3NDaXJjbGVCZy5zdHlsZS5zdHJva2UgPSBjb2xvcjsNCiAgICAgICAgICAgIHByb2dyZXNzQ2lyY2xlQmcuc3R5bGUub3BhY2l0eSA9ICcwLjInOw0KICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNvbnRyb2xzIGJ1dHRvbicpLmZvckVhY2goYnRuID0+IHsNCiAgICAgICAgICAgICAgICBidG4uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29sb3I7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIG1vZGVCdXR0b25zLmZvckVhY2goYnRuID0+IHsNCiAgICAgICAgICAgICAgICBidG4uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29sb3I7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vIC0tLSBUaW1lciBGdW5jdGlvbnMgLS0tDQogICAgICAgIGNvbnN0IHNldFByb2dyZXNzID0gcGVyY2VudCA9PiB7DQogICAgICAgICAgICBjb25zdCBvZmZzZXQgPSBDSVJDTEVfQ0lSQ1VNRkVSRU5DRSAtIChwZXJjZW50IC8gMTAwKSAqIENJUkNMRV9DSVJDVU1GRVJFTkNFOw0KICAgICAgICAgICAgcHJvZ3Jlc3NDaXJjbGUuc3R5bGUuc3Ryb2tlRGFzaG9mZnNldCA9IG9mZnNldDsNCiAgICAgICAgfTsNCiAgICAgICAgY29uc3QgdXBkYXRlRGlzcGxheSA9ICgpID0+IHsNCiAgICAgICAgICAgIGNvbnN0IGZvcm1hdHRlZFRpbWUgPSBmb3JtYXRUaW1lKE1hdGgubWF4KDAsIHRpbWVMZWZ0KSk7DQogICAgICAgICAgICB0aW1lRGlzcGxheS50ZXh0Q29udGVudCA9IGZvcm1hdHRlZFRpbWU7DQogICAgICAgICAgICBzZXRQcm9ncmVzcygodGltZXNbY3VycmVudE1vZGVdIC0gdGltZUxlZnQpIC8gdGltZXNbY3VycmVudE1vZGVdICogMTAwKTsNCiAgICAgICAgICAgIHBvbW9Db3VudGVyRGlzcGxheS50ZXh0Q29udGVudCA9IHN0YXRpc3RpY3MudG90YWxQb21vZG9yb3MgPiAwID8gc3RhdGlzdGljcy50b3RhbFBvbW9kb3JvcyA6ICcnOw0KICAgICAgICB9Ow0KICAgICAgICBjb25zdCBzZXRNb2RlID0gKG1vZGUpID0+IHsNCiAgICAgICAgICAgIG1vZGVCdXR0b25zLmZvckVhY2goYnRuID0+IGJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKSk7DQogICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHttb2RlfWApLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpOw0KICAgICAgICAgICAgY3VycmVudE1vZGUgPSBtb2RlOw0KICAgICAgICAgICAgdGltZUxlZnQgPSB0aW1lc1ttb2RlXTsNCiAgICAgICAgICAgIHVwZGF0ZUNvbG9yKG1vZGUpOw0KICAgICAgICAgICAgcmVzZXRUaW1lcigpOw0KICAgICAgICAgICAgdXBkYXRlRGlzcGxheSgpOw0KICAgICAgICB9Ow0KICAgICAgICBjb25zdCBzdGFydFRpbWVyID0gKCkgPT4gew0KICAgICAgICAgICAgaWYgKHRpbWVySWQpIHsNCiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpOw0KICAgICAgICAgICAgICAgIHRpbWVySWQgPSBudWxsOw0KICAgICAgICAgICAgICAgIHN0YXJ0QnRuLmlubmVySFRNTCA9ICc8aSBjbGFzcz0iZmFzIGZhLXBsYXkiPjwvaT4gU3RhcnQnOw0KICAgICAgICAgICAgICAgIHlvdXR1YmVQbGF5ZXI/LnBhdXNlVmlkZW8oKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgc3RhcnRUaW1lc3RhbXAgPSBEYXRlLm5vdygpIC0gKCh0aW1lc1tjdXJyZW50TW9kZV0gLSB0aW1lTGVmdCkgKiAxMDAwKTsNCiAgICAgICAgICAgICAgICB0aW1lcklkID0gc2V0SW50ZXJ2YWwoKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICBjb25zdCBlbGFwc2VkID0gTWF0aC5mbG9vcigoRGF0ZS5ub3coKSAtIHN0YXJ0VGltZXN0YW1wKSAvIDEwMDApOw0KICAgICAgICAgICAgICAgICAgICB0aW1lTGVmdCA9IHRpbWVzW2N1cnJlbnRNb2RlXSAtIGVsYXBzZWQ7DQogICAgICAgICAgICAgICAgICAgIGlmICh0aW1lTGVmdCA8PSAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgdGltZXJJZCA9IG51bGw7DQogICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVUaW1lckVuZCgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHVwZGF0ZURpc3BsYXkoKTsNCiAgICAgICAgICAgICAgICB9LCAxMDAwKTsNCiAgICAgICAgICAgICAgICBzdGFydEJ0bi5pbm5lckhUTUwgPSAnPGkgY2xhc3M9ImZhcyBmYS1wYXVzZSI+PC9pPiBQYXVzZSc7DQogICAgICAgICAgICAgICAgeW91dHViZVBsYXllcj8ucGxheVZpZGVvKCk7DQogICAgICAgICAgICB9DQogICAgICAgIH07DQogICAgICAgIGNvbnN0IHJlc2V0VGltZXIgPSAoKSA9PiB7DQogICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpOw0KICAgICAgICAgICAgdGltZXJJZCA9IG51bGw7DQogICAgICAgICAgICB0aW1lTGVmdCA9IHRpbWVzW2N1cnJlbnRNb2RlXTsNCiAgICAgICAgICAgIHVwZGF0ZURpc3BsYXkoKTsNCiAgICAgICAgICAgIHN0YXJ0QnRuLmlubmVySFRNTCA9ICc8aSBjbGFzcz0iZmFzIGZhLXBsYXkiPjwvaT4gU3RhcnQnOw0KICAgICAgICAgICAgeW91dHViZVBsYXllcj8ucGF1c2VWaWRlbygpOw0KICAgICAgICB9Ow0KICAgICAgICBjb25zdCBoYW5kbGVUaW1lckVuZCA9ICgpID0+IHsNCiAgICAgICAgICAgIGxldCBuZXh0TW9kZTsNCiAgICAgICAgICAgIGlmIChjdXJyZW50TW9kZSA9PT0gJ3BvbW9kb3JvJykgew0KICAgICAgICAgICAgICAgIHN0YXRpc3RpY3MudG90YWxQb21vZG9yb3MrKzsNCiAgICAgICAgICAgICAgICBzdGF0aXN0aWNzLnRvdGFsRm9jdXNUaW1lICs9IHRpbWVzLnBvbW9kb3JvOw0KICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZFRhc2tJbmRleCAhPT0gbnVsbCkgdGFza3Nbc2VsZWN0ZWRUYXNrSW5kZXhdLnBvbW9kb3JvcysrOw0KICAgICAgICAgICAgICAgIHVwZGF0ZVN0YXRpc3RpY3MoKTsNCiAgICAgICAgICAgICAgICBwbGF5Tm90aWZpY2F0aW9uU291bmQoJ3BvbW9kb3JvJyk7DQogICAgICAgICAgICAgICAgc2hvd05vdGlmaWNhdGlvbignUG9tb2Rvcm8gQ29tcGxldGUhJyk7DQogICAgICAgICAgICAgICAgc2VuZE5vdGlmaWNhdGlvbignUG9tb2Rvcm8gQ29tcGxldGUhJywgJ1RpbWUgdG8gdGFrZSBhIGJyZWFrIScpOw0KICAgICAgICAgICAgICAgIHBvbW9kb3JvQ291bnQrKzsNCiAgICAgICAgICAgICAgICBuZXh0TW9kZSA9IChzdGF0aXN0aWNzLnRvdGFsUG9tb2Rvcm9zICUgcG9tb2Rvcm9zQmVmb3JlTG9uZ0JyZWFrID09PSAwKSA/ICdsb25nQnJlYWsnIDogJ3Nob3J0QnJlYWsnOw0KICAgICAgICAgICAgICAgIGlmIChuZXh0TW9kZSA9PT0gJ2xvbmdCcmVhaycpIHBvbW9kb3JvQ291bnQgPSAwOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBwbGF5Tm90aWZpY2F0aW9uU291bmQoY3VycmVudE1vZGUpOw0KICAgICAgICAgICAgICAgIHNob3dOb3RpZmljYXRpb24oJ0JyZWFrIENvbXBsZXRlIScpOw0KICAgICAgICAgICAgICAgIHNlbmROb3RpZmljYXRpb24oJ0JyZWFrIENvbXBsZXRlIScsICdUaW1lIHRvIGdldCBiYWNrIHRvIHdvcmshJyk7DQogICAgICAgICAgICAgICAgbmV4dE1vZGUgPSAncG9tb2Rvcm8nOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgc2V0TW9kZShuZXh0TW9kZSk7DQogICAgICAgICAgICBpZiAoYXV0b1N0YXJ0QnJlYWtzKSBzdGFydFRpbWVyKCk7DQogICAgICAgICAgICAgZWxzZXsNCiAgICAgICAgICAgICAgICBzdGFydEJ0bi5pbm5lckhUTUwgPSAnPGkgY2xhc3M9ImZhcyBmYS1wbGF5Ij48L2k+IFN0YXJ0JzsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHNhdmVTZXR0aW5ncygpOw0KICAgICAgICB9Ow0KDQogICAgICAgIC8vIC0tLSBUYXNrIE1hbmFnZW1lbnQgLS0tDQogICAgICAgIGNvbnN0IGhhbmRsZVRhc2tJbnB1dCA9IChldmVudCkgPT4geyBpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInKSBhZGRUYXNrKCk7IH07DQogICAgICAgIGNvbnN0IGFkZFRhc2sgPSAoKSA9PiB7DQogICAgICAgICAgICBjb25zdCB0YXNrSW5wdXQgPSBlbCgndGFza0lucHV0Jyk7DQogICAgICAgICAgICBjb25zdCB0YXNrVGV4dCA9IHRhc2tJbnB1dC52YWx1ZS50cmltKCk7DQogICAgICAgICAgICBpZiAodGFza1RleHQpIHsNCiAgICAgICAgICAgICAgICB0YXNrcy5wdXNoKHsgdGV4dDogZXNjYXBlSHRtbCh0YXNrVGV4dCksIGNvbXBsZXRlZDogZmFsc2UsIHBvbW9kb3JvczogMCB9KTsNCiAgICAgICAgICAgICAgICB0YXNrSW5wdXQudmFsdWUgPSAnJzsNCiAgICAgICAgICAgICAgICB1cGRhdGVUYXNrTGlzdCgpOw0KICAgICAgICAgICAgICAgIHVwZGF0ZVRhc2tTZWxlY3QoKTsNCiAgICAgICAgICAgICAgICBzYXZlU2V0dGluZ3MoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfTsNCiAgICAgICAgY29uc3QgZWRpdFRhc2sgPSAoaW5kZXgpID0+IHsNCiAgICAgICAgICAgIGNvbnN0IG5ld1RleHQgPSBwcm9tcHQoJ0VudGVyIG5ldyB0YXNrIG5hbWU6JywgdGFza3NbaW5kZXhdLnRleHQpOw0KICAgICAgICAgICAgaWYgKG5ld1RleHQgIT09IG51bGwgJiYgbmV3VGV4dC50cmltKCkgIT09ICcnKSB7DQogICAgICAgICAgICAgICAgdGFza3NbaW5kZXhdLnRleHQgPSBlc2NhcGVIdG1sKG5ld1RleHQudHJpbSgpKTsNCiAgICAgICAgICAgICAgICB1cGRhdGVUYXNrTGlzdCgpOw0KICAgICAgICAgICAgICAgIHVwZGF0ZVRhc2tTZWxlY3QoKTsNCiAgICAgICAgICAgICAgICBzYXZlU2V0dGluZ3MoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfTsNCiAgICAgICAgY29uc3QgcmVtb3ZlVGFzayA9IChpbmRleCkgPT4gew0KICAgICAgICAgICAgdGFza3Muc3BsaWNlKGluZGV4LCAxKTsNCiAgICAgICAgICAgIGlmIChzZWxlY3RlZFRhc2tJbmRleCA+PSB0YXNrcy5sZW5ndGgpIHNlbGVjdGVkVGFza0luZGV4ID0gbnVsbDsNCgkJCXVwZGF0ZVRhc2tMaXN0KCk7DQogICAgICAgICAgICB1cGRhdGVUYXNrU2VsZWN0KCk7DQogICAgICAgICAgICBzYXZlU2V0dGluZ3MoKTsNCiAgICAgICAgfTsNCiAgICAgICAgY29uc3QgdG9nZ2xlVGFzayA9IChpbmRleCkgPT4gew0KICAgICAgICAgICAgdGFza3NbaW5kZXhdLmNvbXBsZXRlZCA9ICF0YXNrc1tpbmRleF0uY29tcGxldGVkOw0KICAgICAgICAgICAgdXBkYXRlVGFza0xpc3QoKTsNCiAgICAgICAgICAgIHNhdmVTZXR0aW5ncygpOw0KICAgICAgICB9Ow0KICAgICAgICAgY29uc3QgdXBkYXRlVGFza0xpc3QgPSAoKSA9PiB7DQogICAgICAgICAgICBjb25zdCB0YXNrTGlzdERpdiA9IGVsKCd0YXNrTGlzdCcpOw0KICAgICAgICAgICAgdGFza0xpc3REaXYuaW5uZXJIVE1MID0gJyc7DQogICAgICAgICAgICB0YXNrcy5mb3JFYWNoKCh0YXNrLCBpbmRleCkgPT4gew0KICAgICAgICAgICAgICAgIGNvbnN0IHRhc2tJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7DQogICAgICAgICAgICAgICAgdGFza0l0ZW0uY2xhc3NOYW1lID0gYHRhc2staXRlbSAke3Rhc2suY29tcGxldGVkID8gJ2NvbXBsZXRlZCcgOiAnJ31gOw0KICAgICAgICAgICAgICAgIHRhc2tJdGVtLmRyYWdnYWJsZSA9IHRydWU7DQogICAgICAgICAgICAgICAgdGFza0l0ZW0uaW5uZXJIVE1MID0gYA0KCQkJCQ0KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giICR7dGFzay5jb21wbGV0ZWQgPyAnY2hlY2tlZCcgOiAnJ30gb25jbGljaz0idG9nZ2xlVGFzaygke2luZGV4fSkiPg0KICAgICAgICAgICAgICAgICAgICA8c3Bhbj4ke3Rhc2sudGV4dH08L3NwYW4+DQogICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0YXNrLWFjdGlvbnMiPg0KCQkJCQkJPHNwYW4gY2xhc3M9InBvbW9kb3JvLWNvdW50Ij4NCgkJCQkJCTxpIGNsYXNzPSJmYXMgZmEtY2xvY2siPjwvaT4gJHt0YXNrLnBvbW9kb3Jvc30NCgkJCQkJCTwvc3Bhbj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9InBvbW9kb3JvIiBvbmNsaWNrPSJlZGl0VGFzaygke2luZGV4fSkiPjxpIGNsYXNzPSJmYXMgZmEtcGVuIj48L2k+PC9idXR0b24+DQogICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJwb21vZG9ybyIgb25jbGljaz0icmVtb3ZlVGFzaygke2luZGV4fSkiPjxpIGNsYXNzPSJmYXMgZmEtdHJhc2giPjwvaT48L2J1dHRvbj4NCiAgICAgICAgICAgICAgICAgICAgPC9kaXY+YDsNCgkJCQkJDQogICAgICAgICAgICAgICAgdGFza0l0ZW0uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgKGUpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgdGFza0l0ZW0uY2xhc3NMaXN0LmFkZCgnZHJhZ2dpbmcnKTsNCiAgICAgICAgICAgICAgICAgICAgZHJhZ1N0YXJ0SW5kZXggPSBpbmRleDsNCiAgICAgICAgICAgICAgICAgICAgICBlLmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkID0gJ21vdmUnOw0KICAgICAgICAgICAgICAgICAgICBlLmRhdGFUcmFuc2Zlci5zZXREYXRhKCd0ZXh0L3BsYWluJywgaW5kZXgpOw0KDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICB0YXNrSXRlbS5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIGUgPT57DQogICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsNCg0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIHRhc2tJdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCBlID0+ew0KICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOw0KICAgICAgICAgICAgICAgICAgICAgY29uc3QgZHJhZ0VuZEluZGV4ID0gaW5kZXgNCiAgICAgICAgICAgICAgICAgICAgIGlmKGRyYWdTdGFydEluZGV4ICE9PSBkcmFnRW5kSW5kZXgpew0KICAgICAgICAgICAgICAgICAgICAgICAgIHJlb3JkZXJUYXNrcyhkcmFnU3RhcnRJbmRleCwgZHJhZ0VuZEluZGV4KQ0KICAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgICB0YXNrSXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdkcmFnZ2luZycpOw0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICB0YXNrSXRlbS5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgKGUpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgdGFza0l0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnZHJhZ2dpbmcnKTsNCiAgICAgICAgICAgICAgICAgICBzYXZlU2V0dGluZ3MoKTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB0YXNrTGlzdERpdi5hcHBlbmRDaGlsZCh0YXNrSXRlbSk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICB9Ow0KICAgICAgICAgICBmdW5jdGlvbiByZW9yZGVyVGFza3Moc3RhcnRJbmRleCwgZW5kSW5kZXgpIHsNCiAgICAgICAgICAgICAgIGNvbnN0IFtyZW1vdmVkXSA9IHRhc2tzLnNwbGljZShzdGFydEluZGV4LCAxKTsNCiAgICAgICAgICAgICAgIHRhc2tzLnNwbGljZShlbmRJbmRleCwgMCwgcmVtb3ZlZCk7DQogICAgICAgICAgICAgIHVwZGF0ZVRhc2tMaXN0KCk7DQogICAgICAgICAgICAgICBzYXZlU2V0dGluZ3MoKTsNCiAgICAgICAgfQ0KDQogICAgICAgIGNvbnN0IHVwZGF0ZVRhc2tTZWxlY3QgPSAoKSA9PiB7DQogICAgICAgICAgICBjb25zdCB0YXNrU2VsZWN0ID0gZWwoJ3Rhc2tTZWxlY3QnKTsNCiAgICAgICAgICAgIHRhc2tTZWxlY3QuaW5uZXJIVE1MID0gJzxvcHRpb24gdmFsdWU9IiI+U2VsZWN0IGEgdGFzazwvb3B0aW9uPic7DQogICAgICAgICAgICB0YXNrcy5mb3JFYWNoKCh0YXNrLCBpbmRleCkgPT4gew0KICAgICAgICAgICAgICAgIHRhc2tTZWxlY3QuaW5uZXJIVE1MICs9IGA8b3B0aW9uIHZhbHVlPSIke2luZGV4fSI+JHt0YXNrLnRleHR9PC9vcHRpb24+YDsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgdGFza1NlbGVjdC52YWx1ZSA9IHNlbGVjdGVkVGFza0luZGV4ID09PSBudWxsID8gJycgOiBzZWxlY3RlZFRhc2tJbmRleDsNCiAgICAgICAgfTsNCg0KICAgICAgICBlbCgndGFza1NlbGVjdCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHNlbGVjdGVkVGFza0luZGV4ID0gdGhpcy52YWx1ZSA9PT0gJycgPyBudWxsIDogcGFyc2VJbnQodGhpcy52YWx1ZSk7DQogICAgICAgICAgICBzYXZlU2V0dGluZ3MoKTsNCiAgICAgICAgfSk7DQoNCiAgICAgICAgLy8gLS0tIFNldHRpbmdzIFBhbmVsIC0tLQ0KICAgICAgICBjb25zdCB0b2dnbGVTZXR0aW5ncyA9ICgpID0+IHsNCiAgICAgICAgICAgIGNvbnN0IHNldHRpbmdzUGFuZWwgPSBlbCgnc2V0dGluZ3NQYW5lbCcpOw0KICAgICAgICAgICAgc2V0dGluZ3NQYW5lbC5zdHlsZS5kaXNwbGF5ID0gc2V0dGluZ3NQYW5lbC5zdHlsZS5kaXNwbGF5ID09PSAnbm9uZScgPyAnYmxvY2snIDogJ25vbmUnOw0KICAgICAgICAgICAgaWYgKHNldHRpbmdzUGFuZWwuc3R5bGUuZGlzcGxheSA9PT0gJ2Jsb2NrJykgc2V0dGluZ3NQYW5lbC5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJyB9KTsNCiAgICAgICAgfTsNCiAgICAgICAgY29uc3QgdXBkYXRlVGltZUZyb21JbnB1dCA9IChpZCwgdmFsdWUpID0+IHsNCiAgICAgICAgICAgIGNvbnN0IG1vZGUgPSBpZC5yZXBsYWNlKCdUaW1lJywgJycpOw0KICAgICAgICAgICAgdGltZXNbbW9kZV0gPSBwYXJzZUludCh2YWx1ZSwgMTApICogNjA7DQogICAgICAgICAgICBpZiAoY3VycmVudE1vZGUgPT09IG1vZGUpIHsNCiAgICAgICAgICAgICAgICB0aW1lTGVmdCA9IHRpbWVzW2N1cnJlbnRNb2RlXTsNCiAgICAgICAgICAgICAgICB1cGRhdGVEaXNwbGF5KCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBzYXZlU2V0dGluZ3MoKTsNCiAgICAgICAgfTsNCiAgICAgICAgY29uc3QgdXBkYXRlQmFja2dyb3VuZCA9ICh0eXBlKSA9PiB7DQogICAgICAgICAgICBpZiAodHlwZSA9PT0gJ3VybCcpIHsNCiAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSBlbCgnYmdVcmwnKS52YWx1ZS50cmltKCk7DQogICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSB1cmwgPyBgdXJsKCcke3VybH0nKWAgOiAnJzsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2ZpbGUnKSB7DQogICAgICAgICAgICAgICAgY29uc3QgZmlsZSA9IGVsKCdiZ0ZpbGUnKS5maWxlc1swXTsNCiAgICAgICAgICAgICAgICBpZiAoZmlsZSkgew0KICAgICAgICAgICAgICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOw0KICAgICAgICAgICAgICAgICAgICByZWFkZXIub25sb2FkZW5kID0gKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCcke3JlYWRlci5yZXN1bHR9JylgOw0KICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZVNldHRpbmdzKCk7DQogICAgICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHNhdmVTZXR0aW5ncygpOw0KICAgICAgICB9Ow0KICAgICAgICBjb25zdCByZW1vdmVCYWNrZ3JvdW5kID0gKCkgPT4gew0KICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSAnJzsNCiAgICAgICAgICAgIGVsKCdiZ1VybCcpLnZhbHVlID0gJyc7DQogICAgICAgICAgICBlbCgnYmdGaWxlJykudmFsdWUgPSAnJzsNCiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdiYWNrZ3JvdW5kSW1hZ2UnLCAnJyk7DQogICAgICAgICAgICBzYXZlU2V0dGluZ3MoKTsNCiAgICAgICAgfTsNCiAgICAgICAgY29uc3QgdXBkYXRlWW91VHViZVZpZGVvID0gKCkgPT4gew0KICAgICAgICAgICAgY29uc3QgdXJsID0gZWwoJ3lvdXR1YmVVcmwnKS52YWx1ZTsNCiAgICAgICAgICAgIGNvbnN0IHZpZGVvSWQgPSBnZXRWaWRlb0lkKHVybCk7DQogICAgICAgICAgICBpZiAodmlkZW9JZCAmJiB5b3V0dWJlUGxheWVyICYmIHlvdXR1YmVQbGF5ZXIubG9hZFZpZGVvQnlJZCkgew0KICAgICAgICAgICAgICAgIHlvdXR1YmVQbGF5ZXIubG9hZFZpZGVvQnlJZCh2aWRlb0lkKTsNCiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgneW91dHViZVZpZGVvSWQnLCB2aWRlb0lkKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHNhdmVTZXR0aW5ncygpOw0KICAgICAgICB9Ow0KICAgICAgICBjb25zdCByZXNldEFsbFNldHRpbmdzID0gKCkgPT4gew0KICAgICAgICAgICAgdGltZXMgPSB7IC4uLkRFRkFVTFRfVElNRVMgfTsNCiAgICAgICAgICAgIG5vdGlmaWNhdGlvblNvdW5kcyA9IHsgLi4uREVGQVVMVF9TT1VORFMgfTsNCiAgICAgICAgICAgIGF1dG9TdGFydEJyZWFrcyA9IHRydWU7DQogICAgICAgICAgICBwb21vZG9yb3NCZWZvcmVMb25nQnJlYWsgPSA0Ow0KICAgICAgICAgICAgc3RhdGlzdGljcyA9IHsgdG90YWxQb21vZG9yb3M6IDAsIHRvdGFsRm9jdXNUaW1lOiAwLCBkYWlseVN0cmVhazogMCwgbGFzdENvbXBsZXRlZDogbnVsbCB9Ow0KICAgICAgICAgICAgdGFza3MgPSBbXTsNCiAgICAgICAgICAgIHNlbGVjdGVkVGFza0luZGV4ID0gbnVsbDsNCiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gJyc7DQogICAgICAgICAgICBlbCgncG9tb2Rvcm9UaW1lJykudmFsdWUgPSB0aW1lcy5wb21vZG9ybyAvIDYwOw0KICAgICAgICAgICAgZWwoJ3Nob3J0QnJlYWtUaW1lJykudmFsdWUgPSB0aW1lcy5zaG9ydEJyZWFrIC8gNjA7DQogICAgICAgICAgICBlbCgnbG9uZ0JyZWFrVGltZScpLnZhbHVlID0gdGltZXMubG9uZ0JyZWFrIC8gNjA7DQogICAgICAgICAgICBlbCgncG9tb2Rvcm9zQmVmb3JlTG9uZ0JyZWFrJykudmFsdWUgPSBwb21vZG9yb3NCZWZvcmVMb25nQnJlYWs7DQogICAgICAgICAgICBlbCgnYXV0b1N0YXJ0QnJlYWtzJykuY2hlY2tlZCA9IGF1dG9TdGFydEJyZWFrczsNCiAgICAgICAgICAgIGVsKCdwb21vZG9yb1NvdW5kJykudmFsdWUgPSBub3RpZmljYXRpb25Tb3VuZHMucG9tb2Rvcm87DQogICAgICAgICAgICBlbCgnc2hvcnRCcmVha1NvdW5kJykudmFsdWUgPSBub3RpZmljYXRpb25Tb3VuZHMuc2hvcnRCcmVhazsNCiAgICAgICAgICAgIGVsKCdsb25nQnJlYWtTb3VuZCcpLnZhbHVlID0gbm90aWZpY2F0aW9uU291bmRzLmxvbmdCcmVhazsNCiAgICAgICAgICAgIGVsKCdtdXRlU291bmRzJykuY2hlY2tlZCA9IG11dGVTb3VuZHM7DQogICAgICAgICAgICBlbCgnYmdVcmwnKS52YWx1ZSA9ICcnOw0KICAgICAgICAgICAgZWwoJ2JnRmlsZScpLnZhbHVlID0gJyc7DQogICAgICAgICAgICAgZWwoJ3lvdXR1YmVVcmwnKS52YWx1ZSA9IERFRkFVTFRfWU9VVFVCRV9VUkw7DQogICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgneW91dHViZVZpZGVvSWQnKTsNCiAgICAgICAgICAgIHJlc2V0VGltZXIoKTsNCiAgICAgICAgICAgIHVwZGF0ZVRhc2tMaXN0KCk7DQogICAgICAgICAgICB1cGRhdGVUYXNrU2VsZWN0KCk7DQogICAgICAgICAgICB1cGRhdGVTdGF0aXN0aWNzKCk7DQogICAgICAgICAgICBzYXZlU2V0dGluZ3MoKTsNCiAgICAgICAgfTsNCg0KICAgICAgICAvLyAtLS0gU3RhdGlzdGljcyAtLS0NCgkJDQoJCWNvbnN0IHVwZGF0ZVN0YXRpc3RpY3MgPSAoKSA9PiB7DQoJCQllbCgndG90YWxQb21vZG9yb3NTdGF0JykudGV4dENvbnRlbnQgPSBzdGF0aXN0aWNzLnRvdGFsUG9tb2Rvcm9zOw0KCQkJZWwoJ3RvdGFsVGltZScpLnRleHRDb250ZW50ID0gZm9ybWF0VGltZShzdGF0aXN0aWNzLnRvdGFsRm9jdXNUaW1lKTsNCg0KCQkJY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpOw0KCQkJY29uc3QgbGFzdENvbXBsZXRlZCA9IHN0YXRpc3RpY3MubGFzdENvbXBsZXRlZCA/IG5ldyBEYXRlKHN0YXRpc3RpY3MubGFzdENvbXBsZXRlZCkgOiBudWxsOw0KDQoJCQlpZiAobGFzdENvbXBsZXRlZCkgew0KCQkJCWNvbnN0IHRpbWVEaWZmID0gdG9kYXkgLSBsYXN0Q29tcGxldGVkOyAvLyBEaWZlcmVuw6dhIGVtIG1pbGlzc2VndW5kb3MNCgkJCQljb25zdCBkYXlzRGlmZiA9IE1hdGguZmxvb3IodGltZURpZmYgLyAoMTAwMCAqIDYwICogNjAgKiAyNCkpOyAvLyBEaWZlcmVuw6dhIGVtIGRpYXMNCg0KCQkJCWlmIChkYXlzRGlmZiA9PT0gMCkgew0KCQkJCQkvLyBPIMO6bHRpbW8gUG9tb2Rvcm8gZm9pIGhvamU6IG7Do28gZmF6IG5hZGENCgkJCQl9IGVsc2UgaWYgKGRheXNEaWZmID09PSAxKSB7DQoJCQkJCS8vIE8gw7psdGltbyBQb21vZG9ybyBmb2kgb250ZW06IGluY3JlbWVudGEgbyBzdHJlYWsNCgkJCQkJc3RhdGlzdGljcy5kYWlseVN0cmVhaysrOw0KCQkJCX0gZWxzZSBpZiAoZGF5c0RpZmYgPj0gMikgew0KCQkJCQkvLyBPIMO6bHRpbW8gUG9tb2Rvcm8gZm9pIGjDoSBkb2lzIG91IG1haXMgZGlhczogcmVpbmljaWEgbyBzdHJlYWsNCgkJCQkJc3RhdGlzdGljcy5kYWlseVN0cmVhayA9IDE7DQoJCQkJfQ0KCQkJfSBlbHNlIGlmIChzdGF0aXN0aWNzLnRvdGFsUG9tb2Rvcm9zID4gMCkgew0KCQkJCS8vIFByaW1laXJvIFBvbW9kb3JvOiBpbmljaWEgbyBzdHJlYWsNCgkJCQlzdGF0aXN0aWNzLmRhaWx5U3RyZWFrID0gMTsNCgkJCX0NCg0KCQkJZWwoJ2RhaWx5U3RyZWFrJykudGV4dENvbnRlbnQgPSBzdGF0aXN0aWNzLmRhaWx5U3RyZWFrOw0KCQkJc3RhdGlzdGljcy5sYXN0Q29tcGxldGVkID0gbmV3IERhdGUoKTsNCgkJCXNhdmVTZXR0aW5ncygpOw0KCQl9Ow0KDQogICAgICAgIC8vIE5vdm8gRXZlbnQgTGlzdGVuZXIgcGFyYSB2aXNpYmlsaWRhZGUgZGEgcMOhZ2luYQ0KICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgKCkgPT4gew0KICAgICAgICAgICAgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gJ3Zpc2libGUnICYmIHRpbWVySWQpIHsNCiAgICAgICAgICAgICAgICAvLyBSZWNhbGN1bGEgbyB0ZW1wbyByZXN0YW50ZSBiYXNlYWRvIG5vIHRpbWVzdGFtcCBpbmljaWFsDQogICAgICAgICAgICAgICAgY29uc3QgZWxhcHNlZCA9IE1hdGguZmxvb3IoKERhdGUubm93KCkgLSBzdGFydFRpbWVzdGFtcCkgLyAxMDAwKTsNCiAgICAgICAgICAgICAgICB0aW1lTGVmdCA9IE1hdGgubWF4KDAsIHRpbWVzW2N1cnJlbnRNb2RlXSAtIGVsYXBzZWQpOw0KICAgICAgICAgICAgICAgIHVwZGF0ZURpc3BsYXkoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQoNCg0KICAgICAgICBjb25zdCBwbGF5Tm90aWZpY2F0aW9uU291bmQgPSAobW9kZSkgPT4gew0KICAgICAgICAgICAgaWYgKCFtdXRlU291bmRzKSB7DQogICAgICAgICAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25Tb3VuZHNbbW9kZV0pIHsNCiAgICAgICAgICAgICAgICAgICAgY2FzZSAnYmVsbCc6DQogICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVCZWVwKDk1MCwgMTUwMCk7DQogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgY2FzZSAnY2hpbWUnOg0KICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlQmVlcCg2MDAsIDE1MDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgIGNhc2UgJ2RpbmcnOg0KICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlQmVlcCgyMDAsIDE1MDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9Ow0KICAgICAgICAgY29uc3Qgc2VuZE5vdGlmaWNhdGlvbiA9ICh0aXRsZSwgYm9keSkgPT4gew0KICAgICAgICAgICBpZiAoTm90aWZpY2F0aW9uLnBlcm1pc3Npb24gPT09ICdncmFudGVkJykgew0KICAgICAgICAgICAgICAgIG5ldyBOb3RpZmljYXRpb24odGl0bGUsIHsgYm9keTogYm9keSB9KTsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAoTm90aWZpY2F0aW9uLnBlcm1pc3Npb24gIT09ICdkZW5pZWQnKSB7DQogICAgICAgICAgICAgICAgTm90aWZpY2F0aW9uLnJlcXVlc3RQZXJtaXNzaW9uKCkudGhlbihwZXJtaXNzaW9uID0+IHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHBlcm1pc3Npb24gPT09ICdncmFudGVkJykgew0KICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBOb3RpZmljYXRpb24odGl0bGUsIHsgYm9keTogYm9keSB9KTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9Ow0KDQoNCiAgICAgICAgLy8gLS0tIEV2ZW50IExpc3RlbmVycyAtLS0NCiAgICAgICAgZWwoJ3BvbW9kb3JvVGltZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChlKSA9PiB1cGRhdGVUaW1lRnJvbUlucHV0KCdwb21vZG9yb1RpbWUnLCBlLnRhcmdldC52YWx1ZSkpOw0KICAgICAgICBlbCgnc2hvcnRCcmVha1RpbWUnKS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4gdXBkYXRlVGltZUZyb21JbnB1dCgnc2hvcnRCcmVha1RpbWUnLCBlLnRhcmdldC52YWx1ZSkpOw0KICAgICAgICBlbCgnbG9uZ0JyZWFrVGltZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChlKSA9PiB1cGRhdGVUaW1lRnJvbUlucHV0KCdsb25nQnJlYWtUaW1lJywgZS50YXJnZXQudmFsdWUpKTsNCiAgICAgICAgZWwoJ3BvbW9kb3Jvc0JlZm9yZUxvbmdCcmVhaycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChlKSA9PiB7DQogICAgICAgICAgICBwb21vZG9yb3NCZWZvcmVMb25nQnJlYWsgPSBwYXJzZUludChlLnRhcmdldC52YWx1ZSwgMTApOw0KICAgICAgICAgICAgc2F2ZVNldHRpbmdzKCk7DQogICAgICAgIH0pOw0KICAgICAgICBlbCgnYXV0b1N0YXJ0QnJlYWtzJykuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpID0+IHsNCiAgICAgICAgICAgIGF1dG9TdGFydEJyZWFrcyA9IGUudGFyZ2V0LmNoZWNrZWQ7DQogICAgICAgICAgICBzYXZlU2V0dGluZ3MoKTsNCiAgICAgICAgfSk7DQogICAgICAgIGVsKCdwb21vZG9yb1NvdW5kJykuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpID0+IHsNCiAgICAgICAgICAgIG5vdGlmaWNhdGlvblNvdW5kcy5wb21vZG9ybyA9IGUudGFyZ2V0LnZhbHVlOw0KICAgICAgICAgICAgc2F2ZVNldHRpbmdzKCk7DQogICAgICAgIH0pOw0KICAgICAgICBlbCgnc2hvcnRCcmVha1NvdW5kJykuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpID0+IHsNCiAgICAgICAgICAgIG5vdGlmaWNhdGlvblNvdW5kcy5zaG9ydEJyZWFrID0gZS50YXJnZXQudmFsdWU7DQogICAgICAgICAgICBzYXZlU2V0dGluZ3MoKTsNCiAgICAgICAgfSk7DQogICAgICAgIGVsKCdsb25nQnJlYWtTb3VuZCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChlKSA9PiB7DQogICAgICAgICAgICBub3RpZmljYXRpb25Tb3VuZHMubG9uZ0JyZWFrID0gZS50YXJnZXQudmFsdWU7DQogICAgICAgICAgICBzYXZlU2V0dGluZ3MoKTsNCiAgICAgICAgfSk7DQogICAgICAgIGVsKCdtdXRlU291bmRzJykuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpID0+IHsNCiAgICAgICAgICAgIG11dGVTb3VuZHMgPSBlLnRhcmdldC5jaGVja2VkOw0KICAgICAgICAgICAgc2F2ZVNldHRpbmdzKCk7DQogICAgICAgIH0pOw0KICAgICAgICBlbCgneW91dHViZVVybCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHVwZGF0ZVlvdVR1YmVWaWRlbyk7DQoNCiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4gew0KICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldC50YWdOYW1lICE9PSAnSU5QVVQnICYmIGV2ZW50LnRhcmdldC50YWdOYW1lICE9PSAnU0VMRUNUJyAmJiBldmVudC50YXJnZXQudGFnTmFtZSAhPT0gJ1RFWFRBUkVBJykgew0KICAgICAgICAgICAgICAgIHN3aXRjaCAoZXZlbnQuY29kZSkgew0KICAgICAgICAgICAgICAgICAgICBjYXNlICdTcGFjZSc6DQogICAgICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWVyKCk7DQogICAgICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgIGNhc2UgJ0tleVInOg0KICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRUaW1lcigpOw0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgIGNhc2UgJ0RpZ2l0MSc6DQogICAgICAgICAgICAgICAgICAgICAgICBzZXRNb2RlKCdwb21vZG9ybycpOw0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgIGNhc2UgJ0RpZ2l0Mic6DQogICAgICAgICAgICAgICAgICAgICAgICBzZXRNb2RlKCdzaG9ydEJyZWFrJyk7DQogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgY2FzZSAnRGlnaXQzJzoNCiAgICAgICAgICAgICAgICAgICAgICAgIHNldE1vZGUoJ2xvbmdCcmVhaycpOw0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCg0KICAgICAgICAvLyAtLS0gVGhlbWUgVG9nZ2xlIC0tLQ0KICAgICAgICBjb25zdCB0b2dnbGVUaGVtZSA9ICgpID0+IHsNCiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgnZGFyay1tb2RlJyk7DQogICAgICAgICAgICBjb25zdCBpY29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRoZW1lLXRvZ2dsZSBpJyk7DQogICAgICAgICAgICBpY29uLmNsYXNzTGlzdC50b2dnbGUoJ2ZhLW1vb24nKTsNCiAgICAgICAgICAgIGljb24uY2xhc3NMaXN0LnRvZ2dsZSgnZmEtc3VuJyk7DQogICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndGhlbWUnLCBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5jb250YWlucygnZGFyay1tb2RlJykgPyAnZGFyaycgOiAnbGlnaHQnKTsNCiAgICAgICAgfTsNCg0KICAgICAgICAvLyAtLS0gS2V5Ym9hcmQgU2hvcnRjdXRzIFRvZ2dsZSAtLS0NCiAgICAgICAgY29uc3QgdG9nZ2xlS2V5Ym9hcmRTaG9ydGN1dHMgPSAoKSA9PiB7DQogICAgICAgICAgICBrZXlib2FyZFNob3J0Y3V0c0Rpdi5jbGFzc0xpc3QudG9nZ2xlKCdoaWRlJyk7DQogICAgICAgIH07DQoNCiAgICAgICAgLy8gLS0tIEluaXRpYWxpemF0aW9uIC0tLQ0KICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4gew0KICAgICAgICAgICAgbG9hZFNldHRpbmdzKCk7DQogICAgICAgICAgICAgdXBkYXRlQ29sb3IoY3VycmVudE1vZGUpOw0KICAgICAgICAgICAgc2V0TW9kZSgncG9tb2Rvcm8nKTsNCiAgICAgICAgICAgIHVwZGF0ZURpc3BsYXkoKTsNCiAgICAgICAgICAgIHJlcXVlc3ROb3RpZmljYXRpb25QZXJtaXNzaW9uKCkNCiAgICAgICAgICAgIGNvbnN0IHNhdmVkVGhlbWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndGhlbWUnKTsNCiAgICAgICAgICAgIGlmIChzYXZlZFRoZW1lID09PSAnZGFyaycpIHsNCiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ2RhcmstbW9kZScpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGhlbWUtdG9nZ2xlIGknKTsNCiAgICAgICAgICAgICAgICBpY29uLmNsYXNzTGlzdC5yZW1vdmUoJ2ZhLW1vb24nKTsNCiAgICAgICAgICAgICAgICBpY29uLmNsYXNzTGlzdC5hZGQoJ2ZhLXN1bicpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCg0KICAgICAgIGNvbnN0IHJlcXVlc3ROb3RpZmljYXRpb25QZXJtaXNzaW9uID0gKCkgPT4gew0KICAgICAgICAgICBpZiAoJ05vdGlmaWNhdGlvbicgaW4gd2luZG93KSB7DQogICAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5yZXF1ZXN0UGVybWlzc2lvbigpOw0KICAgICAgICAgICB9DQogICAgICAgfTsNCg0KICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc3RvcmFnZScsIChldmVudCkgPT4gew0KICAgICAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ3BvbW9kb3JvU2V0dGluZ3MnKSBsb2FkU2V0dGluZ3MoKTsNCiAgICAgICAgfSk7DQogICAgPC9zY3JpcHQ+DQo8L2JvZHk+DQoNCjwvaHRtbD4=";

    // Função para decodificar base64
    function decodeBase64(str) {
        try {
             return decodeURIComponent(atob(str).split('').map(function(c) {
            return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
        }).join(''));
        } catch (e) {
            console.error("Erro ao decodificar Base64:", e);
             return "";
        }
       
    }

    // Decodifica o conteúdo
    const pomodoroAppHTML = decodeBase64(pomodoroAppBase64);

    // Inicializa a visualização com o conteúdo da aplicação
     liveFrame.srcdoc = pomodoroAppHTML;
       function toggleTheme() {
            const body = document.body;
            const currentTheme = body.getAttribute('data-theme') || 'light';
            const newTheme = currentTheme === 'light' ? 'dark' : 'light';
            body.setAttribute('data-theme', newTheme);
              localStorage.setItem('theme', newTheme)
              if (liveFrame && liveFrame.contentWindow) {
                 liveFrame.contentWindow.postMessage({ type: 'themeChange', theme: newTheme }, '*');
            }
        }
        
           // Inicializa o tema salvo no local storage
        document.addEventListener('DOMContentLoaded', () => {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme) {
                document.body.setAttribute('data-theme', savedTheme);
            }
          });


</script>
